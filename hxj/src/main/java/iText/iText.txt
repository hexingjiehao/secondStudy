1.å­¦ä¹ iTextçŸ¥è¯†ç‚¹ï¼š
    1.å®˜ç½‘ï¼šhttps://itextpdf.com/enã€‚
           æ ¸å¿ƒjaråŒ…çš„githubä½ç½®ï¼šhttps://github.com/itext
           æ ¸å¿ƒçš„APIä½ç½®ï¼šhttps://api.itextpdf.com/iText7/7.1.6/
           demoæ¡ˆä¾‹ä½ç½®ï¼šhttps://itextpdf.com/en/resources/examples
           ç‰ˆæœ¬å˜åŒ–ï¼šä»itext2ï¼Œç„¶åæ˜¯itext5ï¼Œæœ€æ–°æ˜¯itext7ã€‚ç›®å‰æœ€æ–°çš„ç‰ˆæœ¬æ˜¯iText7.1.6
    2.æ¦‚å¿µï¼šiTextæ˜¯ä¸€ç§ç”ŸæˆPDFæŠ¥è¡¨çš„Javaç»„ä»¶
    3.æœ€æ–°jaråŒ…ï¼š<dependency>
                 <groupId>com.itextpdf</groupId>
                 <artifactId>itext7-core</artifactId>
                 <version>7.1.6</version>
                </dependency>

    4.æ ¸å¿ƒjarï¼šã€åœ¨AGPLè®¸å¯ä¸‹ä½¿ç”¨ã€‘
        <groupId>com.itextpdf</groupId>
        <artifactId>
            kernelï¼šå†…æ ¸æ“ä½œ
            ioï¼šè¾“å…¥è¾“å‡º
            layoutï¼šå¸ƒå±€
            formsï¼šå¤„ç†AcroForm
            pdfaï¼šå¤„ç†pdfçš„ä¸€ä¸ªç‰¹æ®ŠåŠŸèƒ½
            pdftestï¼šæµ‹è¯•åŠŸèƒ½

            æš‚ä¸ä½¿ç”¨æ¨¡å—ï¼š
                barcodesï¼šæ¡å½¢ç 
                hyphï¼šæ–‡æœ¬ç”¨è¿å­—ç¬¦è¿æ¥
                font-asianï¼šäºšæ´²åŠŸèƒ½
                signï¼šæ•°å­—ç­¾å
                itext-licensekeyï¼šè®¸å¯å¯†é’¥--æ²¡æœ‰è¿™ä¸ªåˆ™é—­æºæ¨¡å—æ— æ³•ä½¿ç”¨

        </artifactId>


    5.itextçš„è½¯ä»¶å·¥å…·ï¼š
        Full iText 7 suiteï¼šã€å·¥å…·ç®±ã€‘
            iText Coreï¼šæ ¸å¿ƒç±»åº“
            iText Communityï¼šç¤¾åŒºç‰ˆæ ¸å¿ƒåº“ï¼Œå¿…é¡»ä¸AGPLè®¸å¯è¯ç»“åˆä½¿ç”¨
            iTextï¼šå®Œæ•´çš„PDFåŠŸèƒ½å’Œè½¯ä»¶å¼€å‘å¹³å°

            é—ç•™å·¥å…·ï¼š
                iText5ï¼šè¿‡æœŸçš„PDFåŠŸèƒ½å’Œè½¯ä»¶å¼€å‘å¹³å°
                XML Workerï¼šå°†XHTMLå†…å®¹è½¬æ¢ä¸ºPDFï¼ŒåŒ…æ‹¬æ ·å¼
                XFA Workerï¼šç¼–å†™åŠ¨æ€pdfï¼Œç”Ÿæˆå¯ç¼–è¾‘å’Œé™æ€çš„pdfæ–‡ä»¶

            é‡è¦å·¥å…·ï¼šğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
                iText DITOï¼š
                    è®¾è®¡pdfæ¨¡ç‰ˆåŠŸèƒ½ï¼Œå¹¶å°†æ¨¡ç‰ˆç»‘å®šåˆ°åç«¯ã€‚
                    èƒ½å¤Ÿåˆ›å»ºè‡ªå·±çš„æ•°æ®é©±åŠ¨è¾“å‡ºæ¨¡æ¿æˆ–è¾“å…¥è¡¨å•ï¼Œå¹¶å°†å…¶ç»‘å®šåˆ°åŠŸèƒ½å¼ºå¤§çš„åç«¯ã€‚
                pdf2Dataï¼šã€ğŸŒ¿ğŸŒ¿ğŸŒ¿--é—­æºã€‘
                    èƒ½å¤Ÿä»PDFæ–‡æ¡£ä¸­æå–æ•°æ®ã€‚
                pdfHTMLï¼šã€ğŸŒ¿ğŸŒ¿ğŸŒ¿--å¼€æºã€‘
                    å°†HTMLè½¬æ¢ä¸ºPDFã€‚
                RUPSï¼šã€ğŸŒ¿ğŸŒ¿ğŸŒ¿ã€‘
                    ç”¨äºè¯»å–å’Œæ›´æ–°PDFè¯­æ³•å’Œè°ƒè¯•PDFä»£ç çš„PDFè¯Šæ–­å·¥å…·
                pdfSweepï¼šã€ğŸŒ¿ğŸŒ¿ğŸŒ¿--å¼€æºã€‘
                    å¯ä»¥å®‰å…¨ç¼–è¾‘PDFæ–‡æ¡£ä¸­çš„æ•°æ®ï¼Œæ¯”å¦‚éšè—æ•°æ®ç­‰
                pdfDebugã€å¼€æºã€‘ï¼š
                    pdfè°ƒè¯•å™¨æ’ä»¶ï¼Œå¯é›†æˆåˆ°ideã€‚åœ¨debugæ—¶æŸ¥çœ‹pdfçš„ç”Ÿæˆæƒ…å†µ
                pdfCalligraphï¼šã€é—­æºã€‘
                    å…è®¸è§£é”PDFæ’ç‰ˆä¸­çš„é«˜çº§å·¥ä½œæµåŠŸèƒ½ã€‚å¯¹pdfè¿›è¡Œæ’ç‰ˆ
                pdfXFAï¼šã€ğŸŒ¿ğŸŒ¿ğŸŒ¿--é—­æºã€‘
                    åŠ¨æ€pdfç”Ÿæˆï¼Œè½¬æ¢å’Œä¿æŠ¤æ‚¨çš„åŠ¨æ€PDFæ–‡ä»¶ã€‚ç”Ÿæˆå¯ç¼–è¾‘å’Œé™æ€çš„pdfæ–‡ä»¶

    6.å…¥é—¨ç”µå­ä¹¦ï¼šã€ŠiText 7 Jump-Start Tutorial Java.pdfã€‹
        ç¬¬1ç« ï¼šä»‹ç»åŸºç¡€çš„æ„å»ºå—â¤ï¸ã€documentå¯¹è±¡ã€‘
            -åŸºç¡€å—
                helloï¼Œworldå…¥é—¨ï¼š
                    OutputStream fos = new FileOutputStream("dest.pdf");
                    PdfWriter writer = new PdfWriter(fos);
                    PdfDocument pdf = new PdfDocument(writer);
                    Document document = new Document(pdf);
                    document.add(new Paragraph("Hello World!"));
                    document.close();
                å­—ä½“ï¼š
                    PdfFont font = PdfFontFactory.createFont(FontConstants.TIMES_ROMAN);
                    document.add(new Paragraph("iText is:").setFont(font));
                ä¸“å±List:
                    List list = new List().setSymbolIndent(12).setListSymbol("\u2022").setFont(font);
                    list.add(new ListItem("good"))
                        .add(new ListItem("news"));
                    document.add(list);
                å›¾ç‰‡ï¼š
                    Image fox = new Image(ImageFactory.getImage("FOX.image"));
                    Image dog = new Image(ImageFactory.getImage("DOG.image"));
                    Paragraph p = new Paragraph("The quick brown ")
                                .add(fox)
                                .add(" jumps over the lazy ")
                                .add(dog);
                    document.add(p);
            -å‘å¸ƒæ•°æ®åº“
                æ•°æ®åº“è¡¨æ ¼ï¼š
                    Document document = new Document(pdf, PageSize.A4.rotate());
                    document.setMargins(20, 20, 20, 20);

                    Table table = new Table(new float[]{4, 1, 3, 4, 3, 3, 3, 3, 1});
                    table.setWidthPercent(100);

                    BufferedReader br = new BufferedReader(new FileReader("DATA.csv"));
                    String line = br.readLine();
                    //å¤„ç†ä¸€è¡Œæ•°æ®
                    PdfFont font = PdfFontFactory.createFont(FontConstants.HELVETICA);
                    PdfFont bold = PdfFontFactory.createFont(FontConstants.HELVETICA_BOLD);
                    process(table, line, bold, true);
                    //å¤„ç†å‰©ä¸‹æ•°æ®
                    while ((line = br.readLine()) != null) {
                        process(table, line, font, false);
                    }
                    br.close();
                    document.add(table);

                    //---------------------åä¸½çš„åˆ†å‰²çº¿---------------------------
                    public void process(Table table, String line, PdfFont font, boolean isHeader) {
                            StringTokenizer tokenizer = new StringTokenizer(line, ";");
                            while (tokenizer.hasMoreTokens()) {
                                if (isHeader) {
                                    table.addHeaderCell(
                                        new Cell().add(
                                            new Paragraph(tokenizer.nextToken()).setFont(font)));
                                } else {
                                    table.addCell(
                                        new Cell().add(
                                            new Paragraph(tokenizer.nextToken()).setFont(font)));
                                }
                            }
                    }
            -æ€»ç»“
                é«˜çº§å¯¹è±¡ï¼šParagraph, List, Image, Table, Cell

        ç¬¬2ç« ï¼šæ·»åŠ åº•å±‚å†…å®¹â¤ï¸ã€PdfCanvaså¯¹è±¡ã€‘
            -åœ¨ç”»å¸ƒä¸Šç”»çº¿
                pdfè¯­æ³•ï¼š -406 0 m     //mè¡¨ç¤ºç§»åŠ¨ï¼Œç§»åŠ¨åˆ°åæ ‡(-406,0)
                         406 0 l      //lè¡¨ç¤ºè·¯å¾„ï¼Œæ„é€ åˆ°åæ ‡(406,0)çš„è·¯å¾„
                         S            //sè¡¨ç¤ºç”»çº¿ï¼Œå°†ä¸Šé¢çš„è·¯å¾„è¿›è¡Œç”»çº¿
                javaä»£ç ï¼šcanvas.moveTo(-406, 0)
                                .lineTo(406, 0)
                                .stroke();
                åˆ›å»ºæ–°é¡µï¼š
                    OutputStream fos = new FileOutputStream("dest.pdf");
                    PdfWriter writer = new PdfWriter(fos);
                    PdfDocument pdf = new PdfDocument(writer);

                    PageSize ps = PageSize.A4.rotate();
                    PdfPage page = pdf.addNewPage(ps);
                    PdfCanvas canvas = new PdfCanvas(page);

                    pdf.close();
            -åæ ‡ç³»å’Œå˜æ¢çŸ©é˜µ
                é»˜è®¤åæ ‡ç³»åŸç‚¹åœ¨å·¦ä¸‹è§’ã€‚
                ç‰¹æ®ŠçŸ©é˜µï¼šæœ€åä¸€åˆ—æ˜¯å›ºå®šå€¼,ä¿è¯äºŒç»´ç©ºé—´ã€‚a,b,c,då¯ç”¨äºç¼©æ”¾ï¼Œæ—‹è½¬ï¼Œå€¾æ–œåæ ‡ç³»ã€‚
                        e,få®šä¹‰å¹³ç§»ã€‚é¡µé¢å¤§å°çš„é«˜åº¦å’Œå®½åº¦é™¤ä»¥2, å¾—åˆ°e,fçš„å€¼ã€‚
                    a b 0
                    c d 0
                    e f 1
                ç§»åŠ¨åæ ‡ç³»åˆ°ä¸­å¿ƒï¼š
                    canvas.concatMatrix(1, 0, 0, 1, ps.getWidth() / 2, ps.getHeight() / 2);
            -å›¾å½¢çŠ¶æ€
                ç”»åæ ‡è½´ï¼š
                    canvas.moveTo(-(ps.getWidth() / 2 - 15), 0)
                            .lineTo(ps.getWidth() / 2 - 15, 0)
                            .stroke();

                    //ç”»xåæ ‡ç®­å¤´
                    canvas.setLineJoinStyle(PdfCanvasConstants.LineJoinStyle.ROUND)
                            .moveTo(ps.getWidth() / 2 - 25, -10)
                            .lineTo(ps.getWidth() / 2 - 15, 0)
                            .lineTo(ps.getWidth() / 2 - 25, 10).stroke();

                    canvas.setLineJoinStyle(PdfCanvasConstants.LineJoinStyle.MITER);
                    canvas.moveTo(0, -(ps.getHeight() / 2 - 15))
                            .lineTo(0, ps.getHeight() / 2 - 15)
                            .stroke();

                    //ç”»yåæ ‡ç®­å¤´
                    canvas.saveState()
                            .setLineJoinStyle(PdfCanvasConstants.LineJoinStyle.ROUND)
                            .moveTo(-10, ps.getHeight() / 2 - 25)
                            .lineTo(0, ps.getHeight() / 2 - 15)
                            .lineTo(10, ps.getHeight() / 2 - 25).stroke()
                            .restoreState();

                    //ç”»xè½´è¡¬çº¿--å³åˆ»åº¦çº¿
                    for (int i = -((int) ps.getWidth() / 2 - 61);i < ((int) ps.getWidth() / 2 - 60); i += 40) {
                        canvas.moveTo(i, 5).lineTo(i, -5);
                    }

                    //ç”»yè½´è¡¬çº¿
                    for (int j = -((int) ps.getHeight() / 2 - 57);j < ((int) ps.getHeight() / 2 - 56); j += 40) {
                        canvas.moveTo(5, j).lineTo(-5, j);
                    }
                    canvas.stroke();
                ç”»ç½‘æ ¼çº¿ï¼š
                    é¢œè‰²ç±»ï¼šDeviceGray(å•è‰²ç³»)ï¼ŒDeviceRgb(ä¸‰è‰²ç³»)ï¼ŒDeviceCmyk(å››è‰²ç³»)
                        Color grayColor = new DeviceCmyk(0.f, 0.f, 0.f, 0.875f);
                        Color greenColor = new DeviceCmyk(1.f, 0.f, 1.f, 0.176f);
                        Color blueColor = new DeviceCmyk(1.f, 0.156f, 0.f, 0.118f);
                    ç”»ç½‘æ ¼ï¼š
                        canvas.setLineWidth(0.5f).setStrokeColor(blueColor);
                        for (int i = -((int) ps.getHeight() / 2 - 57);i < ((int) ps.getHeight() / 2 - 56); i += 40) {
                            canvas.moveTo(-(ps.getWidth() / 2 - 15), i)
                                  .lineTo(ps.getWidth() / 2 - 15, i);
                        }
                        for (int j = -((int) ps.getWidth() / 2 - 61);j < ((int) ps.getWidth() / 2 - 60); j += 40) {
                            canvas.moveTo(j, -(ps.getHeight() / 2 - 15))
                                  .lineTo(j, ps.getHeight() / 2 - 15);
                        }
                        canvas.stroke();
                    ç”»è™šæ–œçº¿ï¼šï¼ˆçº¿ç ´æŠ˜å·ï¼‰
                        canvas.setLineWidth(2).setStrokeColor(greenColor)
                                .setLineDash(10, 10, 8)
                                .moveTo(-(ps.getWidth() / 2 - 15), -(ps.getHeight() / 2 - 15))
                                .lineTo(ps.getWidth() / 2 - 15, ps.getHeight() / 2 - 15)
                                .stroke();
            -æ–‡æœ¬çŠ¶æ€
                List<String> text = new ArrayList();
                text.add(" Episode V ");
                text.add(" THE EMPIRE STRIKES BACK ");

                canvas.concatMatrix(1, 0, 0, 1, 0, ps.getHeight());
                canvas.beginText()
                    .setFontAndSize(PdfFontFactory.createFont(FontConstants.COURIER_BOLD), 14)
                    .setLeading(14 * 1.2f)
                    .moveText(70, -40);

                for (String s : text) {
                    canvas.newlineShowText(s);
                }
                canvas.endText();

                æ”¹å˜èƒŒæ™¯é¢œè‰²ï¼š
                    canvas.rectangle(0, 0, ps.getWidth(), ps.getHeight())
                          .setColor(Color.BLACK, true)
                          .fill();

                å€¾æ–œè§’åº¦ï¼š
                    canvas.concatMatrix(1, 0, 0, 1, 0, ps.getHeight());
                    Color yellowColor = new DeviceCmyk(0.f, 0.0537f, 0.769f, 0.051f);
                    float lineHeight = 5;
                    float yOffset = -40;
                    canvas.beginText()
                        .setFontAndSize(PdfFontFactory.createFont(FontConstants.COURIER_BOLD), 1)
                        .setColor(yellowColor, true);

                    for(int j = 0; j < text.size(); j++) {
                        String line = text.get(j);
                        float xOffset = ps.getWidth() / 2 - 45 - 8 * j;
                        float fontSizeCoeff = 6 + j;
                        float lineSpacing = (lineHeight + j) * j / 1.5f;
                        int stringWidth = line.length();

                        for (int i = 0; i < stringWidth; i++) {
                            float angle = (maxStringWidth / 2 - i) / 2f;
                            float charXOffset = (4 + (float) j / 2) * i;
                            canvas.setTextMatrix(fontSizeCoeff, 0,angle, fontSizeCoeff / 1.5f,
                                        xOffset + charXOffset, yOffset - lineSpacing)
                                    .showText(String.valueOf(line.charAt(i)));
                        }
                    }
                    canvas.endText();
            -æ€»ç»“
                ä¸€ä¸ªç”¨æˆ·å•ä½å¯¹åº”ä¸€ä¸ªç‚¹ï¼Œ72ä¸ªç”¨æˆ·å•ä½=1è‹±å¯¸=2.54å˜ç±³ã€‚

        ç¬¬3ç« ï¼šä½¿ç”¨æ¸²æŸ“å™¨å’Œäº‹ä»¶å¤„ç†ç¨‹åº
            -æ–‡æ¡£æ¸²æŸ“å™¨
                æ•´é¡µæ‹†åˆ†ä¸º3åˆ—å¹¶ä¸”å›¾æ–‡å¹¶èŒ‚ï¼š
                    OutputStream fos = new FileOutputStream("dest.pdf");
                    PdfWriter writer = new PdfWriter(fos);
                    PdfDocument pdf = new PdfDocument(writer);
                    PageSize ps = PageSize.A5;
                    Document document = new Document(pdf, ps);

                    //è®¾ç½®åˆ—å‚æ•°
                    float offSet = 36;
                    float columnWidth = (ps.getWidth() - offSet * 2 + 10) / 3;
                    float columnHeight = ps.getHeight() - offSet * 2;

                    //è®¾ç½®åˆ—çš„åŒºåŸŸ
                    Rectangle[] columns = {
                        new Rectangle(offSet - 5, offSet, columnWidth, columnHeight),
                        new Rectangle(offSet + columnWidth, offSet, columnWidth, columnHeight),
                        new Rectangle(offSet + columnWidth * 2 + 5, offSet, columnWidth, columnHeight)
                    };
                    document.setRenderer(new ColumnDocumentRenderer(document, columns));

                    //æ·»åŠ å†…å®¹
                    Image inst = new Image(ImageFactory.getImage("INST_IMG.image")).setWidth(columnWidth);
                    String articleInstagram = new String(Files.readAllBytes(Paths.get("INST_TXT.txt")), StandardCharsets.UTF_8);
                    NewYorkTimes.addArticle(document,
                        "Instagram May Change Your Feed, Personalizing It With an Algorithm",
                        "By MIKE ISAAC MARCH 15, 2016", inst, articleInstagram);
                    doc.close();

                    //------------------------åä¸½çš„åˆ†å‰²çº¿------------------------
                    public static void addArticle(Document doc, String title, String author, Image img, String text) throws IOException {
                        Paragraph p1 = new Paragraph(title)
                                    .setFont(timesNewRomanBold)
                                    .setFontSize(14);
                        doc.add(p1);
                        doc.add(img);
                        Paragraph p2 = new Paragraph()
                                    .setFont(timesNewRoman)
                                    .setFontSize(7)
                                    .setFontColor(Color.GRAY)
                                    .add(author);
                        doc.add(p2);
                        Paragraph p3 = new Paragraph()
                                    .setFont(timesNewRoman)
                                    .setFontSize(10)
                                    .add(text);
                        doc.add(p3);
                    }
            -åº”ç”¨å—æ¸²æŸ“å™¨
                åœ¨è¡¨æ ¼æ•°æ®ä¸­çš„æŸä¸€åˆ—æ·»åŠ èƒŒæ™¯è‰²ï¼š
                    //è®¾ç½®é¡µé¢å¤§å°
                    PageSize ps = new PageSize(842, 680);

                    //è®¾ç½®è¡¨æ ¼å±…ä¸­æ ¼å¼
                    table.setWidthPercent(100)
                         .setTextAlignment(Property.TextAlignment.CENTER)
                         .setHorizontalAlignment(Property.HorizontalAlignment.CENTER);

                    //æŒ‡å®šåˆ—æ¸²æŸ“èƒŒæ™¯è‰²--é€ä¸ªå°æ ¼å­è¿›è¡Œå¤„ç†
                    public void process(Table table, String line, PdfFont font, boolean isHeader) {
                        StringTokenizer tokenizer = new StringTokenizer(line, ";");
                        int columnNumber = 0;
                        while (tokenizer.hasMoreTokens()) {
                            if (isHeader) {
                                Cell cell = new Cell().add(new Paragraph(tokenizer.nextToken()));
                                //ä½¿ç”¨è‡ªå®šä¹‰æ¸²æŸ“å™¨
                                cell.setNextRenderer(new RoundedCornersCellRenderer(cell));
                                cell.setPadding(5).setBorder(null);
                                table.addHeaderCell(cell);
                            } else {
                                columnNumber++;
                                Cell cell = new Cell().add(new Paragraph(tokenizer.nextToken()));
                                cell.setFont(font).setBorder(new SolidBorder(Color.BLACK, 0.5f));
                                switch (columnNumber) {
                                    case 4: cell.setBackgroundColor(greenColor); break;
                                    case 5: cell.setBackgroundColor(yellowColor); break;
                                    case 6: cell.setBackgroundColor(redColor); break;
                                    default: cell.setBackgroundColor(blueColor); break;
                                }
                                table.addCell(cell);
                            }
                        }
                    }

                    //---------------------------åä¸½çš„åˆ†å‰²çº¿-------------------------
                    private class RoundedCornersCellRenderer extends CellRenderer {
                        public RoundedCornersCellRenderer(Cell modelElement) {
                            super(modelElement);
                        }

                        @Override
                        public void drawBorder(DrawContext drawContext) {
                            Rectangle rectangle = getOccupiedAreaBBox();
                            float llx = rectangle.getX() + 1;
                            float lly = rectangle.getY() + 1;
                            float urx = rectangle.getX() + getOccupiedAreaBBox().getWidth() - 1;
                            float ury = rectangle.getY() + getOccupiedAreaBBox().getHeight() - 1;
                            PdfCanvas canvas = drawContext.getCanvas();
                            float r = 4;
                            float b = 0.4477f;
                            canvas.moveTo(llx, lly)
                                  .lineTo(urx, lly)
                                  .lineTo(urx, ury - r)
                                  .curveTo(urx, ury - r * b, urx - r * b, ury, urx - r, ury)
                                  .lineTo(llx + r, ury)
                                  .curveTo(llx + r * b, ury, llx, ury - r * b, llx, ury - r)
                                  .lineTo(llx, lly)
                                  .stroke();
                            super.drawBorder(drawContext);
                        }
                    }
            -å¤„ç†äº‹ä»¶
                æ·»åŠ èƒŒæ™¯ï¼Œé¡µçœ‰é¡µè„šï¼Œæ°´å°å’Œé¡µç ï¼š
                    OutputStream fos = new FileOutputStream(dest);
                    PdfWriter writer = new PdfWriter(fos);
                    PdfDocument pdf = new PdfDocument(writer);
                    //æ·»åŠ äº‹ä»¶ç›‘å¬--æ·»åŠ æ–°é¡µæ—¶è§¦å‘
                    pdf.addEventHandler(PdfDocumentEvent.END_PAGE, new MyEventHandler());
                    Document document = new Document(pdf);

                    //--------------------åä¸½çš„åˆ†å‰²çº¿------------------------
                    protected class MyEventHandler implements IEventHandler {

                        public void handleEvent(Event event) {
                            PdfDocumentEvent docEvent = (PdfDocumentEvent) event;
                            PdfDocument pdfDoc = docEvent.getDocument();

                            PdfPage page = docEvent.getPage();
                            int pageNumber = pdfDoc.getPageNumber(page);
                            Rectangle pageSize = page.getPageSize();
                            PdfCanvas pdfCanvas = new PdfCanvas(page.newContentStreamBefore(), page.getResources(), pdfDoc);

                            // è®¾ç½®èƒŒæ™¯
                            Color limeColor = new DeviceCmyk(0.208f, 0, 0.584f, 0);
                            Color blueColor = new DeviceCmyk(0.445f, 0.0546f, 0, 0.0667f);
                            pdfCanvas.saveState()
                                     .setFillColor(pageNumber % 2 == 1 ? limeColor : blueColor)
                                     .rectangle(pageSize.getLeft(), pageSize.getBottom(),pageSize.getWidth(), pageSize.getHeight())
                                     .fill()
                                     .restoreState();

                            // æ·»åŠ é¡µçœ‰é¡µè„š
                            pdfCanvas.beginText()
                                    .setFontAndSize(helvetica, 9)
                                    .moveText(pageSize.getWidth() / 2 - 60, pageSize.getTop() - 20)
                                    .showText("THE TRUTH IS OUT THERE")
                                    .moveText(60, -pageSize.getTop() + 30)
                                    .showText(String.valueOf(pageNumber))
                                    .endText();

                            // æ·»åŠ æ°´å°--å°±æ˜¯åœ¨æŒ‡å®šä½ç½®æ·»åŠ æ–‡å­—
                            Canvas canvas = new Canvas(pdfCanvas, pdfDoc, page.getPageSize());
                            canvas.setProperty(Property.FONT_COLOR, Color.WHITE);
                            canvas.setProperty(Property.FONT_SIZE, 60);
                            canvas.setProperty(Property.FONT, helveticaBold);
                            canvas.showTextAligned(new Paragraph("CONFIDENTIAL"),298, 421,
                                                                pdfDoc.getPageNumber(page),
                                                                TextAlignment.CENTER,
                                                                VerticalAlignment.MIDDLE, 45);
                            pdfCanvas.release();
                        }
                    }
            -æ€»ç»“
                æ›´é«˜çº§åˆ«æ§åˆ¶å¸ƒå±€å†…å®¹ï¼Œå¹¶å‡å°‘å¤æ‚ä»£ç ã€‚æ–¹ä¾¿ç»´æŠ¤

        ç¬¬4ç« ï¼šåˆ¶ä½œPDFäº’åŠ¨ç‰ˆæœ¬
            -æ·»åŠ æ³¨é‡Š
                æ–‡æœ¬æ³¨é‡Šï¼š
                    PdfAnnotation ann = new PdfTextAnnotation(new Rectangle(20, 800, 0, 0))
                                                .setColor(Color.GREEN)
                                                .setTitle(new PdfString("iText"))
                                                .setContents("With iText,you can truly take your documentation needs to the next level.")
                                                .setOpen(true);
                    pdf.getFirstPage().addAnnotation(ann);
                é“¾æ¥æ³¨é‡Šï¼š
                    PdfLinkAnnotation annotation = new PdfLinkAnnotation(new Rectangle(0, 0))
                                                        .setAction(PdfAction.createURI("http://itextpdf.com/"));
                    Link link = new Link("here", annotation);
                    Paragraph p = new Paragraph("The example of link annotation. Click ")
                            .add(link.setUnderline())
                            .add(" to learn more...");
                    document.add(p);
                è¡Œæ³¨é‡Šï¼š
                    OutputStream fos = new FileOutputStream(dest);
                    PdfWriter writer = new PdfWriter(fos);
                    PdfDocument pdf = new PdfDocument(writer);
                    PdfPage page = pdf.addNewPage();

                    PdfArray lineEndings = new PdfArray();
                    lineEndings.add(new PdfName("Diamond"));
                    lineEndings.add(new PdfName("Diamond"));
                    PdfAnnotation annotation = new PdfLineAnnotation(new Rectangle(0, 0),new float[]{20, 790, page.getPageSize().getWidth() - 20, 790})
                                                        .setLineEndingStyles((lineEndings))
                                                        .setContentsAsCaption(true)
                                                        .setTitle(new PdfString("iText"))
                                                        .setContents("The example of line annotation")
                                                        .setColor(Color.BLUE);
                    page.addAnnotation(annotation);
                    pdf.close();
                é€‰ä¸­æ ‡è®°æ³¨é‡Šï¼š
                    PdfAnnotation ann = PdfTextMarkupAnnotation.createHighLight(new Rectangle(105, 790, 64, 10),new float[]{169, 790, 105, 790, 169, 800, 105, 800})
                                                                .setColor(Color.YELLOW)
                                                                .setTitle(new PdfString("Hello!"))
                                                                .setContents(new PdfString("I'm a popup."))
                                                                .setTitle(new PdfString("iText"))
                                                                .setOpen(true)
                                                                .setRectangle(new PdfArray(new float[]{100, 600, 200, 100}));
                    pdf.getFirstPage().addAnnotation(ann);
            -åˆ›å»ºäº¤äº’å¼è¡¨å•
                æœ¬è´¨æ˜¯æ³¨é‡Šï¼Œä¸æ˜¯å†…å®¹æµ
                ä½¿ç”¨åœºæ™¯ï¼šè¡¨å•æ ¼å¼å›ºå®šå¹¶ä¸”ç²¾ç¡®ã€‚å½“ä½œä¸ºæ¨¡ç‰ˆæ—¶ã€‚
                    PdfAcroForm form = PdfAcroForm.getAcroForm(doc.getPdfDocument(), true);
                æ–‡æœ¬æ¡†ï¼š
                    PdfTextFormField nameField = PdfTextFormField.createText( doc.getPdfDocument(), new Rectangle(99, 753, 425, 15), "name", "");
                    form.addField(nameField);
                å•é€‰æŒ‰é’®ï¼š
                    PdfButtonFormField group = PdfFormField.createRadioGroup(doc.getPdfDocument(), "language", "");
                    PdfFormField.createRadioButton(doc.getPdfDocument(), new Rectangle(130, 728, 15, 15), group, "English");
                    PdfFormField.createRadioButton(doc.getPdfDocument(), new Rectangle(200, 728, 15, 15), group, "French");
                    PdfFormField.createRadioButton(doc.getPdfDocument(), new Rectangle(260, 728, 15, 15), group, "German");
                    PdfFormField.createRadioButton(doc.getPdfDocument(), new Rectangle(330, 728, 15, 15), group, "Russian");
                    PdfFormField.createRadioButton(doc.getPdfDocument(), new Rectangle(400, 728, 15, 15), group, "Spanish");
                    form.addField(group);
                å¤é€‰æ¡†ï¼š
                    for(inti=0;i<3;i++){
                        PdfButtonFormField checkField = PdfFormField.createCheckBox(
                                                                        doc.getPdfDocument(),
                                                                        new Rectangle(119 + i * 69, 701, 15, 15),
                                                                        "experience".concat(String.valueOf(i+1)),
                                                                        "Off",
                                                                        PdfFormField.TYPE_CHECK);
                        form.addField(checkField);
                    }
                é€‰æ‹©å­—æ®µï¼š(ä¸‹æ‹‰æ¡†ä¸­å•é€‰æˆ–è€…å¤šé€‰)
                    String[] options = {"Any", "6.30 am - 2.30 pm", "1.30 pm - 9.30 pm"};
                    PdfChoiceFormField choiceField = PdfFormField.createComboBox(
                                                                    doc.getPdfDocument(),
                                                                    new Rectangle(163, 676, 115, 15),
                                                                    "shift",
                                                                    "Any",
                                                                    options);
                    form.addField(choiceField);
                å¤šè¡Œå­—æ®µï¼šï¼ˆå¯Œæ–‡æœ¬æ¡†ï¼‰
                    PdfTextFormField infoField = PdfTextFormField.createMultilineText( doc.getPdfDocument(), new Rectangle(158, 625, 366, 40), "info", "");
                    form.addField(infoField);
                æŒ‰é’®ï¼š
                    PdfButtonFormField button = PdfFormField.createPushButton(doc.getPdfDocument(), new Rectangle(479, 594, 45, 15), "reset", "RESET");
                    button.setAction(PdfAction.createResetForm(
                        new String[] {"name", "language", "experience1", "experience2","experience3", "shift", "info"},
                        0 )
                    );
                    form.addField(button);
            -å¡«å†™è¡¨æ ¼
                Map<String, PdfFormField> fields = form.getFormFields();
                fields.get("name").setValue("James Bond");

                é¢„å¡«å†™è¡¨å•ï¼š
                    PdfReader reader = new PdfReader("src.pdf);
                    PdfWriter writer = new PdfWriter("dest.pdf");
                    PdfDocument pdf = new PdfDocument(reader, writer);

                    PdfAcroForm form = PdfAcroForm.getAcroForm(pdf, true);
                    Map<String, PdfFormField> fields = form.getFormFields();
                    fields.get("name").setValue("James Bond");
                    pdf.close();

                æ‰å¹³åŒ–è¡¨å•ï¼šå³ä¸å¯ä¿®æ”¹
                    form.flattenFields();
            -æ€»ç»“
                4ä¸ªæ³¨é‡Šï¼Œ1ä¸ªäº¤äº’å¼è¡¨å•

        ç¬¬5ç« ï¼šæ“ä½œç°æœ‰PDFæ–‡æ¡£â¤ï¸ã€PdfReaderã€‘
            -æ·»åŠ æ³¨é‡Šå’Œå†…å®¹
                PdfReader reader = new PdfReader(src);
                PdfWriter writer = new PdfWriter(dest);
                PdfDocument pdfDoc = new PdfDocument(reader, writer);
                //æ·»åŠ æ³¨é‡Š
                PdfTextAnnotation ann = new PdfTextAnnotation(new Rectangle(400, 795, 0, 0))
                                                .setTitle(new PdfString("iText"))
                                                .setContents("Please, fill out the form.")
                                                .setOpen(true);
                pdfDoc.getFirstPage().addAnnotation(ann);

                //æ·»åŠ å†…å®¹--éœ€è¦PdfCanvaså’ŒPdfPage
                PdfCanvas canvas = new PdfCanvas(pdfDoc.getFirstPage());
                canvas.beginText().setFontAndSize(PdfFontFactory.createFont(FontConstants.HELVETICA), 12)
                        .moveText(265, 597)
                        .showText("I agree to the terms and conditions.")
                        .endText();

                PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDoc, true);
                PdfButtonFormField checkField = PdfFormField.createCheckBox(pdfDoc, new Rectangle(245, 594, 15, 15),
                                                                                "agreement",
                                                                                "Off",
                                                                                PdfFormField.TYPE_CHECK);
                checkField.setRequired(true);
                form.addField(checkField);
                //ä¿®æ”¹æ•°æ®
                form.getField("reset")
                    .setAction(PdfAction.createResetForm(
                                    new String[]{"name", "language", "experience1", "experience2","experience3", "shift", "info", "agreement"}, 0));
                pdfDoc.close();
            -æ›´æ”¹è¡¨å•å­—æ®µçš„å±æ€§
                PdfAcroForm form = PdfAcroForm.getAcroForm(pdfDoc, true);
                Map<String, PdfFormField> fields = form.getFormFields();
                fields.get("name").setValue("James Bond").setBackgroundColor(Color.ORANGE);
                fields.get("language").setValue("English");
                //ä¿®æ”¹å±æ€§
                List<PdfString> options = new ArrayList<PdfString>();
                options.add(new PdfString("Any"));
                options.add(new PdfString("8.30 am - 12.30 pm"));
                options.add(new PdfString("12.30 pm - 4.30 pm"));
                PdfArray arr = new PdfArray(options);
                fields.get("shift").setOptions(arr);

                PdfFont courier = PdfFontFactory.createFont(FontConstants.COURIER);
                fields.get("info").setValue("I was 38 years old when I became a 007 agent.", courier, 7);
            -æ·»åŠ é¡µçœ‰ã€é¡µè„šå’Œæ°´å°
                PdfReader reader = new PdfReader(src);
                PdfWriter writer = new PdfWriter(dest);
                PdfDocument pdfDoc = new PdfDocument(reader, writer);
                Document document = new Document(pdfDoc);
                Rectangle pageSize;
                PdfCanvas canvas;
                int n = pdfDoc.getNumberOfPages();
                for(inti=1;i<=n;i++){
                    PdfPage page = pdfDoc.getPage(i);
                    pageSize = page.getPageSize();
                    canvas = new PdfCanvas(page);
                    //ç”»é¡µçœ‰
                    canvas.beginText().setFontAndSize(
                            PdfFontFactory.createFont(FontConstants.HELVETICA), 7)
                            .moveText(pageSize.getWidth() / 2 - 24, pageSize.getHeight() - 10)
                            .showText("I want to believe")
                            .endText();
                    //ç”»é¡µè„š
                    canvas.setStrokeColor(Color.BLACK)
                            .setLineWidth(.2f)
                            .moveTo(pageSize.getWidth() / 2 - 30, 20)
                            .lineTo(pageSize.getWidth() / 2 + 30, 20)
                            .stroke();
                    //ç”»é¡µç 
                    canvas.beginText().setFontAndSize(PdfFontFactory.createFont(FontConstants.HELVETICA), 7)
                            .moveText(pageSize.getWidth() / 2 - 7, 10)
                            .showText(String.valueOf(i))
                            .showText(" of ")
                            .showText(String.valueOf(n))
                            .endText();
                    //ç”»æ°´å°
                    Paragraph p = new Paragraph("CONFIDENTIAL").setFontSize(60);
                    canvas.saveState();
                    PdfExtGState gs1 = new PdfExtGState().setFillOpacity(0.2f);
                    canvas.setExtGState(gs1);
                    document.showTextAligned(p,pageSize.getWidth() / 2,
                                             pageSize.getHeight() / 2,
                                             pdfDoc.getPageNumber(page),
                                             Property.TextAlignment.CENTER,
                                             Property.VerticalAlignment.MIDDLE, 45);
                    canvas.restoreState();
                }
                pdfDoc.close();
            -æ›´æ”¹é¡µé¢å¤§å°å’Œæ–¹å‘
                PdfReader reader =new PdfReader(src);
                PdfWriter writer =new PdfWriter(dest);
                PdfDocument pdfDoc= new PdfDocument(reader, writer);
                float margin = 72;
                for (int i = 1; i <= pdfDoc.getNumberOfPages(); i++) {
                    PdfPage page = pdfDoc.getPage(i);
                    //ä¿®æ”¹é¡µé¢å¤§å°
                    Rectangle mediaBox = page.getMediaBox();
                    Rectangle newMediaBox = new Rectangle(mediaBox.getLeft() - margin,
                                                          mediaBox.getBottom() - margin,
                                                          mediaBox.getWidth() + margin * 2,
                                                          mediaBox.getHeight() + margin * 2);
                    page.setMediaBox(newMediaBox);
                    //å¢åŠ è¾¹ç•Œ
                    PdfCanvas over = new PdfCanvas(page);
                    over.setStrokeColor(Color.GRAY);
                    over.rectangle(mediaBox.getLeft(), mediaBox.getBottom(),mediaBox.getWidth(), mediaBox.getHeight());
                    over.stroke();
                    //æ—‹è½¬é¡µé¢
                    if (i % 2 == 0) {
                        page.setRotation(180);
                    }
                }
                pdfDoc.close();
            -æ€»ç»“
                åœ¨å­˜åœ¨çš„pdfæ–‡æ¡£ä¸Šæ·»åŠ æ³¨é‡Šï¼Œé¡µçœ‰ç­‰æ“ä½œ

        ç¬¬6ç« ï¼šé‡ç”¨ç°æœ‰PDFæ–‡æ¡£
            -ç¼©æ”¾ï¼Œå¡«å……ï¼ŒNå€æ‰©å¤§
                PdfDocument pdf = new PdfDocument(new PdfWriter(dest));
                PdfDocument origPdf = new PdfDocument(new PdfReader(src));
                PdfPage origPage = origPdf.getPage(1);
                Rectangle orig = origPage.getPageSizeWithRotation();

                // æ·»åŠ A4é¡µé¢
                PdfPage page = pdf.addNewPage(PageSize.A4.rotate());

                // ä½¿ç”¨è½¬æ¢çŸ©é˜µè¿›è¡Œç¼©æ”¾
                PdfCanvas canvas = new PdfCanvas(page);
                AffineTransform transformationMatrix = AffineTransform.getScaleInstance(
                    page.getPageSize().getWidth() / orig.getWidth(),
                    page.getPageSize().getHeight() / orig.getHeight());

                canvas.concatMatrix(transformationMatrix);
                PdfFormXObject pageCopy = origPage.copyAsFormXObject(pdf);
                canvas.addXObject(pageCopy, 0, 0);

                // æ·»åŠ åŸå§‹é¡µé¢
                pdf.addPage(origPage.copyTo(pdf));

                // æ·»åŠ A2é¡µé¢
                page = pdf.addNewPage(PageSize.A2.rotate());
                canvas = new PdfCanvas(page);
                transformationMatrix = AffineTransform.getScaleInstance(
                    page.getPageSize().getWidth() / orig.getWidth(),
                    page.getPageSize().getHeight() / orig.getHeight());
                canvas.concatMatrix(transformationMatrix);
                canvas.addXObject(pageCopy, 0, 0);

                pdf.close();
                origPdf.close();
            -è£…é…æ–‡ä»¶ï¼ˆå¤šä¸ªpdfæ–‡æ¡£è¿›è¡Œæ‹¼å›¾æ“ä½œï¼‰
                PdfDocument pdf = new PdfDocument(new PdfWriter(dest));
                PdfDocument sourcePdf = new PdfDocument(new PdfReader(src));
                PdfPage origPage = sourcePdf.getPage(1);
                PdfFormXObject pageCopy = origPage.copyAsFormXObject(pdf);
                Rectangle orig = origPage.getPageSize();

                //æ ‡é¢˜æµ‹è¯•
                Rectangle tileSize = PageSize.A4.rotate();
                AffineTransform transformationMatrix = AffineTransform.getScaleInstance(
                    tileSize.getWidth() / orig.getWidth() * 2f,
                    tileSize.getHeight() / orig.getHeight() * 2f);

                //ç¬¬ä¸€æ ‡é¢˜
                PdfPage page = pdf.addNewPage(PageSize.A4.rotate());
                PdfCanvas canvas = new PdfCanvas(page);
                canvas.concatMatrix(transformationMatrix);
                canvas.addXObject(pageCopy, 0, -orig.getHeight() / 2f);

                //ç¬¬äºŒæ ‡é¢˜
                page = pdf.addNewPage(PageSize.A4.rotate());
                canvas = new PdfCanvas(page);
                canvas.concatMatrix(transformationMatrix);
                canvas.addXObject(pageCopy, -orig.getWidth() / 2f, -orig.getHeight() / 2f);

                //ç¬¬ä¸‰æ ‡é¢˜
                page = pdf.addNewPage(PageSize.A4.rotate());
                canvas = new PdfCanvas(page);
                canvas.concatMatrix(transformationMatrix);
                canvas.addXObject(pageCopy, 0, 0);

                //ç¬¬å››æ ‡é¢˜
                page = pdf.addNewPage(PageSize.A4.rotate());
                canvas = new PdfCanvas(page);
                canvas.concatMatrix(transformationMatrix);
                canvas.addXObject(pageCopy, -orig.getWidth() / 2f, 0);
                pdf.close();
                sourcePdf.close();

                åœ¨ä¸€ä¸ªpdfæ–‡ä»¶ä¸Šå­˜æ”¾å¤šä¸ªpdfæ–‡ä»¶:
                    PdfDocument pdf = new PdfDocument(new PdfWriter(dest));
                    PdfDocument sourcePdf = new PdfDocument(new PdfReader(SRC));

                    //åŸå§‹é¡µé¢
                    PdfPage origPage = sourcePdf.getPage(1);
                    Rectangle orig = origPage.getPageSize();
                    PdfFormXObject pageCopy = origPage.copyAsFormXObject(pdf);

                    //nä¸ªå°é¡µé¢
                    PageSize nUpPageSize = PageSize.A4.rotate();
                    PdfPage page = pdf.addNewPage(nUpPageSize);
                    PdfCanvas canvas = new PdfCanvas(page);

                    //ç¼©æ”¾é¡µé¢
                    AffineTransform transformationMatrix = AffineTransform.getScaleInstance(
                        nUpPageSize.getWidth() / orig.getWidth() / 2f,
                        nUpPageSize.getHeight() / orig.getHeight() / 2f);
                    canvas.concatMatrix(transformationMatrix);

                    //å°†å°é¡µé¢å­˜æ”¾åˆ°å¤§é¡µé¢ä¸Š
                    canvas.addXObject(pageCopy, 0, orig.getHeight());
                    canvas.addXObject(pageCopy, orig.getWidth(), orig.getHeight());
                    canvas.addXObject(pageCopy, 0, 0);
                    canvas.addXObject(pageCopy, orig.getWidth(), 0);
                    pdf.close();
                    sourcePdf.close();

                ä½¿ç”¨pdfmergeråˆå¹¶æ–‡æ¡£ï¼š
                    PdfDocument pdf = new PdfDocument(new PdfWriter(dest));
                    PdfMerger merger = new PdfMerger(pdf);
                    PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(SRC1));
                    merger.addPages(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());

                    PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(SRC2));
                    merger.addPages(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());
                    merger.merge();
                    firstSourcePdf.close();
                    secondSourcePdf.close();
                    pdf.close();

                ç›®å½•æ ¼å¼ï¼š
                    public static final Map<String, Integer> TheRevenantNominations = new TreeMap<String, Integer>();
                    static {
                        TheRevenantNominations.put("Performance by an actor in a leading role", 4);
                        TheRevenantNominations.put("Performance by an actor in a supporting role", 4);
                        TheRevenantNominations.put("Achievement in cinematography", 4);
                        TheRevenantNominations.put("Achievement in costume design", 5);
                        TheRevenantNominations.put("Achievement in directing", 5);
                        TheRevenantNominations.put("Achievement in film editing", 6);
                        TheRevenantNominations.put("Achievement in makeup and hairstyling", 7);
                        TheRevenantNominations.put("Best motion picture of the year", 8);
                        TheRevenantNominations.put("Achievement in production design", 8);
                        TheRevenantNominations.put("Achievement in sound editing", 9);
                        TheRevenantNominations.put("Achievement in sound mixing", 9);
                        TheRevenantNominations.put("Achievement in visual effects", 10);
                    }

                    PdfDocument pdfDoc = new PdfDocument(new PdfWriter(dest));
                    Document document = new Document(pdfDoc);
                    document.add(new Paragraph(new Text("The Revenant nominations list"))
                            .setTextAlignment(Property.TextAlignment.CENTER));

                    PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(SRC1));
                    for (Map.Entry<String, Integer> entry : TheRevenantNominations.entrySet()) {

                        //å¤åˆ¶é¡µ
                        PdfPage page = firstSourcePdf.getPage(entry.getValue()).copyTo(pdfDoc);
                        pdfDoc.addPage(page);

                        //é‡å†™é¡µç 
                        Text text = new Text(String.format("Page %d", pdfDoc.getNumberOfPages() - 1));
                        text.setBackgroundColor(Color.WHITE);
                        document.add(new Paragraph(text).setFixedPosition(pdfDoc.getNumberOfPages(), 549, 742, 100));

                        //æ·»åŠ ç›®çš„åœ°
                        String destinationKey = "p" + (pdfDoc.getNumberOfPages() - 1);
                        PdfArray destinationArray = new PdfArray();
                        destinationArray.add(page.getPdfObject());
                        destinationArray.add(PdfName.XYZ);
                        destinationArray.add(new PdfNumber(0));
                        destinationArray.add(new PdfNumber(page.getMediaBox().getHeight()));
                        destinationArray.add(new PdfNumber(1));
                        pdfDoc.addNameDestination(destinationKey, destinationArray);

                        //ä½¿ç”¨ä¹¦ç­¾
                        Paragraph p = new Paragraph();
                        p.addTabStops(new TabStop(540, Property.TabAlignment.RIGHT, new DottedLine()));
                        p.add(entry.getKey());
                        p.add(new Tab());
                        p.add(String.valueOf(pdfDoc.getNumberOfPages() - 1));
                        p.setProperty(Property.ACTION, PdfAction.createGoTo(destinationKey));
                        document.add(p);
                    }
                    firstSourcePdf.close();
            -åˆå¹¶è¡¨æ ¼
                PdfDocument destPdfDocument = new PdfDocument(new PdfWriter(dest));
                PdfDocument[] sources = new PdfDocument[] {
                    new PdfDocument(new PdfReader(SRC1)), new PdfDocument(new PdfReader(SRC2))
                };
                for (PdfDocument sourcePdfDocument : sources) {
                    sourcePdfDocument.copyPagesTo(1, sourcePdfDocument.getNumberOfPages(),
                                                     destPdfDocument,
                                                     new PdfPageFormCopier());
                    sourcePdfDocument.close();
                }
                destPdfDocument.close();

                //
                PdfDocument pdfDocument = new PdfDocument(new PdfWriter(dest));
                BufferedReader bufferedReader = new BufferedReader(new FileReader(DATA));
                String line;
                boolean headerLine = true;
                inti=1;
                while ((line = bufferedReader.readLine()) != null) {
                    if (headerLine) {
                        headerLine = false;
                        continue;
                    }
                    ByteArrayOutputStream baos = new ByteArrayOutputStream();
                    PdfDocument sourcePdfDocument = new PdfDocument(
                    new PdfReader(SRC), new PdfWriter(baos));

                    //é‡å‘½åå­—æ®µ
                    i++;
                    PdfAcroForm form = PdfAcroForm.getAcroForm(sourcePdfDocument, true);
                    form.renameField("name", "name_" + i);
                    form.renameField("abbr", "abbr_" + i);
                    form.renameField("dst", "dst_" + i);

                    //å¡«å……å­—æ®µ
                    StringTokenizer tokenizer = new StringTokenizer(line, ";");
                    Map<String, PdfFormField> fields = form.getFormFields();
                    fields.get("name_" + i).setValue(tokenizer.nextToken());
                    fields.get("abbr_" + i).setValue(tokenizer.nextToken());
                    fields.get("dst_" + i).setValue(tokenizer.nextToken());

                    sourcePdfDocument.close();

                    sourcePdfDocument = new PdfDocument(new PdfReader(new ByteArrayInputStream(baos.toByteArray())));
                    sourcePdfDocument.copyPagesTo(1, sourcePdfDocument.getNumberOfPages(),pdfDocument, new PdfPageFormCopier());
                    sourcePdfDocument.close();
                }
                bufferedReader.close();
                pdfDocument.close();
            -åˆå¹¶æ‰å¹³åŒ–è¡¨æ ¼ï¼ˆå‹ç¼©pdfæ–‡ä»¶å¤§å°ï¼‰
                PdfDocument destPdfDocument =new PdfDocument(new PdfWriter(dest1));
                PdfDocument destPdfDocumentSmartMode =new PdfDocument(new PdfWriter(dest2).setSmartMode(true));
                BufferedReader bufferedReader = new BufferedReader(new FileReader(DATA));
                String line;
                boolean headerLine = true;
                while ((line = bufferedReader.readLine()) != null) {
                    if (headerLine) {
                        headerLine = false;
                        continue;
                    }
                    ByteArrayOutputStream baos = new ByteArrayOutputStream();
                    PdfDocument sourcePdfDocument = new PdfDocument(new PdfReader(SRC), new PdfWriter(baos));

                    PdfAcroForm form = PdfAcroForm.getAcroForm(sourcePdfDocument, true);
                    StringTokenizer tokenizer = new StringTokenizer(line, ";");
                    Map<String, PdfFormField> fields = form.getFormFields();
                    fields.get("name").setValue(tokenizer.nextToken());
                    fields.get("abbr").setValue(tokenizer.nextToken());
                    fields.get("dst").setValue(tokenizer.nextToken());
                    form.flattenFields();

                    sourcePdfDocument.close();
                    sourcePdfDocument = new PdfDocument(
                    new PdfReader(new ByteArrayInputStream(baos.toByteArray())));

                    sourcePdfDocument.copyPagesTo(1, sourcePdfDocument.getNumberOfPages(), destPdfDocument, null);
                    sourcePdfDocument.copyPagesTo(1, sourcePdfDocument.getNumberOfPages(), destPdfDocumentSmartMode, null);
                    sourcePdfDocument.close();
                }
                bufferedReader.close();
                destPdfDocument.close();
                destPdfDocumentSmartMode.close();
            -æ€»ç»“
                å¯¹æ–‡ä»¶è¿›è¡Œç¼©æ”¾ç­‰æ“ä½œï¼Œå¾—åˆ°ä¸åŒçš„æ–‡ä»¶ã€‚

        ç¬¬7ç« ï¼šåˆ›å»ºPDF/UAå’ŒPDF/Aæ–‡æ¡£ï¼ˆç‰¹æ®Špdfæ–‡æ¡£ï¼‰
            -åˆ›å»ºå¯è®¿é—®çš„PDFæ–‡æ¡£
                PdfDocument pdf = new PdfDocument(new PdfWriter(dest));
                Document document = new Document(pdf);

                pdf.setTagged();
                pdf.getCatalog().setLang(new PdfString("en-US"));
                pdf.getCatalog().setViewerPreferences(new PdfViewerPreferences().setDisplayDocTitle(true));
                PdfDocumentInfo info = pdf.getDocumentInfo();
                info.setTitle("iText7 PDF/UA example");

                pdf.createXmpMetadata();
                PdfFont font = PdfFontFactory.createFont(FONT, PdfEncodings.WINANSI, true);
                Paragraph p = new Paragraph();
                p.setFont(font);
                p.add(new Text("The quick brown "));
                Image foxImage = new Image(ImageFactory.getImage(FOX));

                foxImage.getAccessibilityProperties().setAlternateDescription("Fox");
                p.add(foxImage);
                p.add(" jumps over the lazy ");
                Image dogImage = new Image(ImageFactory.getImage(DOG));

                dogImage.getAccessibilityProperties().setAlternateDescription("Dog");
                p.add(dogImage);
                document.add(p);
                document.close();
            -åˆ›å»ºç”¨äºé•¿æœŸä¿å­˜çš„pdfæ–‡ä»¶
                PdfADocument pdf = new PdfADocument(new PdfWriter(dest),
                PdfAConformanceLevel.PDF_A_1B,new PdfOutputIntent("Custom", "", "http://www.color.org","sRGB IEC61966-2.1", new FileInputStream(INTENT)));
                Document document = new Document(pdf);

                pdf.createXmpMetadata();
                PdfFont font = PdfFontFactory.createFont(FONT, PdfEncodings.WINANSI, true);
                Paragraph p = new Paragraph();
                p.setFont(font);
                p.add(new Text("The quick brown "));
                Image foxImage = new Image(ImageFactory.getImage(FOX));
                p.add(foxImage);
                p.add(" jumps over the lazy ");
                Image dogImage = new Image(ImageFactory.getImage(DOG));
                p.add(dogImage);
                document.add(p);
                document.close();
            -åˆå¹¶PDFæ–‡æ¡£ï¼ˆç›¸åŒçº§åˆ«æ‰èƒ½åˆå¹¶ï¼‰
                PdfADocument pdf = new PdfADocument(new PdfWriter(dest),
                PdfAConformanceLevel.PDF_A_1A,new PdfOutputIntent("Custom", "", "http://www.color.org","sRGB IEC61966-2.1", new FileInputStream(INTENT)));

                pdf.setTagged();
                pdf.getCatalog().setLang(new PdfString("en-US"));
                pdf.getCatalog().setViewerPreferences(new PdfViewerPreferences().setDisplayDocTitle(true));
                PdfDocumentInfo info = pdf.getDocumentInfo();
                info.setTitle("iText7 PDF/A-1a example");

                pdf.createXmpMetadata();
                PdfMerger merger = new PdfMerger(pdf);

                PdfDocument firstSourcePdf = new PdfDocument(new PdfReader(SRC1));
                merger.addPages(firstSourcePdf, 1, firstSourcePdf.getNumberOfPages());

                PdfDocument secondSourcePdf = new PdfDocument(new PdfReader(SRC2));
                merger.addPages(secondSourcePdf, 1, secondSourcePdf.getNumberOfPages());

                merger.merge();
                firstSourcePdf.close();
                secondSourcePdf.close();
                pdf.close();
            -æ€»ç»“
                pdfä¸­å¼•å…¥æ–‡æ¡£ç»“æ„





