1.å­¦ä¹ nginxçŸ¥è¯†ç‚¹ï¼š
    1.æ¦‚è¿°ï¼šNginxå¯ä»¥ä½œä¸ºhttpæœåŠ¡å™¨ï¼Œé‚®ä»¶æœåŠ¡å™¨ï¼Œåå‘ä»£ç†æœåŠ¡å™¨ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸€å°æœåŠ¡å™¨ã€‚
    2.ä»£ç†å’Œåå‘ä»£ç†çš„åŒºåˆ«ï¼šnginxæœåŠ¡å™¨è½¬å‘çš„æ˜¯å®¢æˆ·ç«¯è¿˜æ˜¯æœåŠ¡å™¨ã€‚æ€»è€Œè¨€ä¹‹ï¼Œå°±æ˜¯ä¸åŒçš„è½¬å‘ç­–ç•¥ã€‚ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
        æ­£å‘ä»£ç†ï¼šnä¸ªå®¢æˆ·ç«¯-->ä»£ç†æœåŠ¡å™¨-->ç½‘ç»œ-->nä¸ªæœåŠ¡å™¨
        åå‘ä»£ç†ï¼šnä¸ªå®¢æˆ·ç«¯-->ç½‘ç»œ-->ä»£ç†æœåŠ¡å™¨-->nä¸ªæœåŠ¡å™¨
    3.å®˜æ–¹ç½‘ç«™ï¼šhttp://nginx.org/en/  æ–‡æ¡£åœ°å€ï¼šhttp://nginx.org/en/docs/
    4.æ’å…¥nginxï¼šé»˜è®¤ç«¯å£80
        ubuntuçš„æ’å…¥æ•™ç¨‹ï¼š
            å…ˆå†³æ¡ä»¶ï¼šsudo apt install curl gnupg2 ca-certificates lsb-release
            ä¸ºnginxè®¾ç½®aptå­˜å‚¨åº“ï¼šecho "deb http://nginx.org/packages/ubuntu `lsb_release -cs` nginx" \ | sudo tee /etc/apt/sources.list.d/nginx.list
            ä½¿ç”¨ä¸»çº¿nginxåŒ…ï¼šecho "deb http://nginx.org/packages/mainline/ubuntu `lsb_release -cs` nginx" \ | sudo tee /etc/apt/sources.list.d/nginx.list
            å¯¼å…¥å®˜æ–¹çš„nginxç­¾åç§˜é’¥ï¼šcurl -fsSL https://nginx.org/keys/nginx_signing.key | sudo apt-key add -
            éªŒè¯æ‹¥æœ‰çš„ç§˜é’¥ï¼šsudo apt-key fingerprint ABF5BD827BD9BF62
            æ’å…¥nginxï¼šğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
                    sudo apt update
                    sudo apt install nginx
        macå®‰è£…nginxï¼šbrew install nginx
    5.åˆå­¦è€…æ•™ç¨‹ï¼š
        nginx.confæ”¾ç½®åˆ° /usr/local/nginx/conf,/etc/nginx,æˆ–è€…/usr/local/etc/nginx
        å¯åŠ¨nginxè¿è¡Œå¯æ‰§è¡Œæ–‡ä»¶ï¼šnginx  -s  stop/quit/reload/reopen
    6.nginxå¦‚ä½•å¤„ç†ä¸€ä¸ªè¯·æ±‚
        åœ¨é…ç½®æ–‡ä»¶æ·»åŠ æœåŠ¡å™¨ï¼š/usr/local/etc/nginx/nginx.conf  ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
            server {
               listen      80 default_server;
               server_name example.org www.example.org;
            }
            server {
               listen      80;
               server_name example.net www.example.net;
            }
            server {
               listen      80;
               server_name example.com www.example.com;
            }
        å¦‚ä½•é˜²æ­¢ä½¿ç”¨æœªå®šä¹‰çš„æœåŠ¡å™¨åå¤„ç†è¯·æ±‚:
            server {
                listen      80;
                server_name "";
                return      444;
            }
        æ··åˆåŸºäºåç§°å’ŒåŸºäºipçš„è™šæ‹ŸæœåŠ¡å™¨:ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
            server {
                listen      192.168.1.1:80;
                server_name example.org www.example.org;
            }
            server {
                listen      192.168.1.1:80 default_server;
                server_name example.net www.example.net;
            }
            server {
                listen      192.168.1.2:80 default_server;
                server_name example.com www.example.com;
            }
        ç®€å•çš„phpç½‘ç«™nginxé…ç½®ï¼š
            server {
                listen      80;
                server_name example.org www.example.org;
                root        /data/www;
                location / {
                    index   index.html index.php;
                }
                location ~* \.(gif|jpg|png)$ {
                    expires 30d;
                }

                location ~ \.php$ {
                    fastcgi_pass  localhost:9000;
                    fastcgi_param SCRIPT_FILENAME
                                  $document_root$fastcgi_script_name;
                    include       fastcgi_params;
                }
            }
    7.æœåŠ¡å™¨åå­—æ ¼å¼ï¼šç¬¬ä¸€ä¸ªåŒ¹é…çš„æœåŠ¡å™¨å°†ä¼šè¢«ä½¿ç”¨
        åŒ¹é…é¡ºåºï¼šå…·ä½“çš„å…¨å
                ä»¥*å·å¼€å¤´çš„é•¿å­—ç¬¦ä¸²ï¼šæ¯”å¦‚*.xxxxxxx
                ä»¥*å·ç»“å°¾çš„é•¿å­—ç¬¦ä¸²ï¼šæ¯”å¦‚xxxxxxxã€‚*
                ç¬¬ä¸€ä¸ªåŒ¹é…çš„æ­£åˆ™è¡¨è¾¾å¼
    8.ä½¿ç”¨nginxä½œä¸ºhttpçš„è´Ÿè½½å‡è¡¡ï¼šä¸»è¦æœ‰4ä¸ªç­–ç•¥
        è´Ÿè½½å¹³è¡¡æ–¹æ³•ï¼š
            å¾ªç¯ï¼šå¯¹åº”ç”¨æœåŠ¡å™¨çš„è¯·æ±‚ä»¥å¾ªç¯æ–¹å¼åˆ†å‘
            æœ€å°‘è¿æ¥ï¼šä¸‹ä¸€ä¸ªè¯·æ±‚è¢«åˆ†é…ç»™æ´»åŠ¨è¿æ¥æœ€å°‘çš„æœåŠ¡å™¨
            ip-hashï¼šä½¿ç”¨hashå‡½æ•°æ¥ç¡®å®šä¸‹ä¸€ä¸ªè¯·æ±‚å¯¹åº”å“ªä¸€ä¸ªæœåŠ¡å™¨
        é»˜è®¤è´Ÿè½½å¹³è¡¡é…ç½®ï¼šä½¿ç”¨å¾ªç¯ç­–ç•¥ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿ğŸŒ¿
            http {
                upstream myapp1 {
                    server srv1.example.com;
                    server srv2.example.com;
                    server srv3.example.com;
                }
                server {
                    listen 80;
                    location / {
                        proxy_pass http://myapp1;
                    }
                }
            }
        æœ€å°è¿æ¥è´Ÿè½½å¹³è¡¡ï¼šæœ€å°‘è¿æ¥æ–¹å¼=least_conn
             upstream myapp1 {
                least_conn;
                server srv1.example.com;
                server srv2.example.com;
                server srv3.example.com;
             }
        ä¼šè¯æŒä¹…æ€§å¹³è¡¡(ip-hashç­–ç•¥)ï¼šç›¸åŒå®¢æˆ·ç«¯è®¿é—®ä¸“å±æœåŠ¡å™¨, ä¾æ®ipåˆ†é…æ–¹å¼
            upstream myapp1 {
                ip_hash;
                server srv1.example.com;
                server srv2.example.com;
                server srv3.example.com;
            }
        åŠ æƒè´Ÿè½½å¹³è¡¡ï¼šæƒé‡æ–¹å¼=weight
            upstream myapp1 {
                server srv1.example.com weight=3;
                server srv2.example.com;
                server srv3.example.com;
            }
        ç¬¬ä¸‰æ–¹ç­–ç•¥ï¼š
            fairè´Ÿè½½å¹³è¡¡ï¼šæŒ‰ç…§æœåŠ¡å™¨ç«¯çš„å“åº”æ—¶é—´æ¥åˆ†é…è¯·æ±‚ï¼Œå“åº”æ—¶é—´çŸ­çš„ä¼˜å…ˆåˆ†é…ã€‚éœ€è¦å®‰è£…æ¨¡å—ï¼šnginx-upstream-fair
                upstream myapp1 {
                    fair;
                    server srv1.example.com weight=3;
                    server srv2.example.com;
                    server srv3.example.com;
                }
            url_hashè´Ÿè½½å¹³è¡¡ï¼šä¾æ®URLåˆ†é…æ–¹å¼ã€‚éœ€è¦å®‰è£…æ¨¡å—ï¼šNginx_upstream_hash-0.3.tar.gz
                upstream myapp1 {
                    hash $request_uri;    #å®ç°æ¯ä¸ªurlå®šå‘åˆ°åŒä¸€ä¸ªåç«¯æœåŠ¡å™¨
                    server srv1.example.com weight=3;
                    server srv2.example.com;
                    server srv3.example.com;
                }
