<!DOCTYPE html>
<!-- saved from url=(0056)http://c.hydee.cn/pages/viewpage.action?pageId=110756115 -->
<html><head><meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
                            <title>shardingsphere 数据脱敏 - 胡俊 - Confluence</title>
    
        

                        
    
                        
    

                
    
    <meta http-equiv="X-UA-Compatible" content="IE=EDGE,chrome=IE7">

<meta id="confluence-context-path" name="confluence-context-path" content="">
<meta id="confluence-base-url" name="confluence-base-url" content="http://c.hydee.cn">

<meta id="atlassian-token" name="atlassian-token" content="87c9f5911242aab154e2e69243fd57f15227e3c3">


<meta id="confluence-space-key" name="confluence-space-key" content="~2777">
<script type="text/javascript">
        var contextPath = '';
</script>

    

    <meta name="confluence-request-time" content="1607307869671">
        
    
        
            <meta name="ajs-is-space-admin" content=""> <meta name="ajs-has-space-config" content="">
            <meta name="ajs-show-space-welcome-dialog" content="true">
            <style>.ia-fixed-sidebar, .ia-splitter-left {width: 285px;}.theme-default .ia-splitter #main {margin-left: 285px;}.ia-fixed-sidebar {visibility: hidden;}</style>
            <meta name="ajs-use-keyboard-shortcuts" content="true">
            <meta name="ajs-discovered-plugin-features" content="{&quot;com.atlassian.confluence.plugins.confluence-dashboard&quot;:[&quot;transition-saved-for-later&quot;],&quot;com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin&quot;:[&quot;hipChatServerIntegration&quot;]}">
            <meta name="ajs-keyboardshortcut-hash" content="340410d3fbeba617f7b9df1cb3d8562e">
            <meta name="ajs-is-confluence-admin" content="false">
            <meta name="ajs-connection-timeout" content="10000">
            
    
    
            <meta name="ajs-page-id" content="110756115">
            <meta name="ajs-latest-page-id" content="110756115">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-page-title" content="shardingsphere 数据脱敏">
            <meta name="ajs-latest-published-page-title" content="shardingsphere 数据脱敏">
            <meta name="ajs-parent-page-title" content="胡俊的主页">
            <meta name="ajs-parent-page-id" content="53969354">
            <meta name="ajs-space-key" content="~2777">
            <meta name="ajs-space-name" content="胡俊">
            <meta name="ajs-max-number-editors" content="12">
            <meta name="ajs-macro-placeholder-timeout" content="5000">
            <meta name="ajs-jira-metadata-count" content="0">
            <meta name="ajs-from-page-title" content="">
            <meta name="ajs-can-remove-page" content="false">
            <meta name="ajs-can-remove-page-hierarchy" content="false">
            <meta name="ajs-browse-page-tree-mode" content="view">
            <meta name="ajs-shared-drafts" content="true">
            <meta name="ajs-user-display-name" content="熊杰">
            <meta name="ajs-context-path" content="">
            <meta name="ajs-base-url" content="http://c.hydee.cn">
            <meta name="ajs-version-number" content="6.7.1">
            <meta name="ajs-build-number" content="7601">
            <meta name="ajs-remote-user" content="2826">
            <meta name="ajs-remote-user-key" content="ff80808171e6f6cf0171ea1d239c0002">
            <meta name="ajs-remote-user-has-licensed-access" content="true">
            <meta name="ajs-current-user-fullname" content="熊杰">
            <meta name="ajs-current-user-avatar-url" content="/images/icons/profilepics/default.svg">
            <meta name="ajs-current-user-avatar-uri-reference" content="/images/icons/profilepics/default.svg">
            <meta name="ajs-static-resource-url-prefix" content="/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/_">
            <meta name="ajs-global-settings-attachment-max-size" content="1048576000">
            <meta name="ajs-user-locale" content="zh_CN">
            <meta name="ajs-enabled-dark-features" content="site-wide.shared-drafts,site-wide.synchrony,confluence.view.edit.transition,confluence-inline-comments-resolved,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareContentEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.mentions.api.ConfluenceMentionEvent,frontend.editor.v4.compatibility,notification.plugin.api.enabled.com.atlassian.confluence.event.events.security.ForgotPasswordEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.tasklist.event.SendTaskEmailEvent,file-annotations,confluence.efi.onboarding.rich.space.content,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.requestaccess.events.AccessGrantedEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageMoveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.follow.FollowEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentReplyEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostCreateEvent,lucene.caching.filter,confluence.table.resizable,notification.batch,confluence-inline-comments-rich-editor,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostUpdateEvent,site-wide.synchrony.opt-in,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageCreatedEvent,mobile.supported.version,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentMentionUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.hipchat.api.events.HipChatUserMapped,quick-reload-inline-comments-flags,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.blogpost.BlogPostMovedEvent,clc.quick.create,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageUpdateEvent,cql.search.screen,nps.survey.inline.dialog,confluence.efi.onboarding.new.templates,pdf-preview,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageMovedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareCustomEvent,previews.sharing,previews.versions,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentUpdateEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.attachment.AttachmentBatchUploadCompletedEvent,collaborative-audit-log,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingLessUsersEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.files.notifications.event.FileContentRemoveEvent,confluence.wrap.macro,previews.conversion-service,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.comment.CommentUpdateEvent,editor.ajax.save,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.async.PageEditedEvent,previews.trigger-all-file-types,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentResolveEvent,notification.plugin.api.enabled.com.atlassian.confluence.event.events.like.LikeCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.inlinecomments.events.InlineCommentCreateEvent,attachment.extracted.text.extractor,notification.plugin.api.enabled.com.atlassian.confluence.plugins.requestaccess.events.AccessRequestedEvent,previews.sharing.pushstate,file-annotations.likes,collaborative.editing.frictionless.upgrade,v2.content.name.searcher,notification.plugin.api.enabled.com.atlassian.confluence.event.events.content.page.PageCreateEvent,notification.plugin.api.enabled.com.atlassian.confluence.efi.emails.events.OnboardingNoSpaceCreatedEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareDraftEvent,notification.plugin.api.enabled.com.atlassian.confluence.plugins.sharepage.api.ShareAttachmentEvent,confluence-inline-comments,confluence-inline-comments-dangling-comment">
            <meta name="ajs-atl-token" content="87c9f5911242aab154e2e69243fd57f15227e3c3">
            <meta name="ajs-confluence-flavour" content="VANILLA">
            <meta name="ajs-user-date-pattern" content="yyyy-M-d">
            <meta name="ajs-date.format" content="MMM dd, yyyy">
    
    <link rel="shortcut icon" href="http://c.hydee.cn/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/17/_/images/brand-images/favicons/fav-confluence.ico">
    <link rel="icon" type="image/x-icon" href="http://c.hydee.cn/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/17/_/images/brand-images/favicons/fav-confluence.ico">

<link rel="search" type="application/opensearchdescription+xml" href="http://c.hydee.cn/opensearch/osd.action" title="Confluence">
    
                    
            <meta name="ajs-create-issue-metadata-show-discovery" content="true">
            

    <script>
window.WRM=window.WRM||{};window.WRM._unparsedData=window.WRM._unparsedData||{};window.WRM._unparsedErrors=window.WRM._unparsedErrors||{};
WRM._unparsedData["com.atlassian.plugins.atlassian-plugins-webresource-plugin:context-path.context-path"]="\u0022\u0022";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-hipchat-integration-plugin:discovery-javascript-data.link-active"]="{\u0022linkActive\u0022:false,\u0022conditionsMet\u0022:true,\u0022admin\u0022:false}";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-feature-discovery-plugin:confluence-feature-discovery-plugin-resources.test-mode"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:policy-update-init.policy-update-data-provider"]="false";
WRM._unparsedData["com.atlassian.analytics.analytics-client:programmatic-analytics-init.programmatic-analytics-data-provider"]="false";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-help-paths"]="{\u0022entries\u0022:{\u0022applinks.docs.root\u0022:\u0022https://confluence.atlassian.com/display/APPLINKS-054/\u0022,\u0022applinks.docs.diagnostics.troubleshoot.sslunmatched\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthsignatureinvalid\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthtimestamprefused\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.delete.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.adding.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administration.guide\u0022:\u0022Application+Links+Documentation\u0022,\u0022applinks.docs.oauth.security\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.troubleshoot.application.links\u0022:\u0022Troubleshoot+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownerror\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.trusted.apps\u0022:\u0022Configuring+Trusted+Applications+authentication+for+an+application+link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelunsupported\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.ssluntrusted\u0022:\u0022SSL+and+application+link+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unknownhost\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.delete.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.link.applications\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.diagnostics.troubleshoot.oauthproblem\u0022:\u0022OAuth+troubleshooting+guide\u0022,\u0022applinks.docs.diagnostics.troubleshoot.migration\u0022:\u0022Update+application+links+to+use+OAuth\u0022,\u0022applinks.docs.relocate.application.link\u0022:\u0022Link+Atlassian+applications+to+work+together\u0022,\u0022applinks.docs.administering.entity.links\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.upgrade.application.link\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics.troubleshoot.connectionrefused\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.oauth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.insufficient.remote.permission\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.configuring.application.link.auth\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.diagnostics\u0022:\u0022Application+links+diagnostics\u0022,\u0022applinks.docs.configured.authentication.types\u0022:\u0022OAuth+security+for+application+links\u0022,\u0022applinks.docs.adding.entity.link\u0022:\u0022Create+links+between+projects\u0022,\u0022applinks.docs.diagnostics.troubleshoot.unexpectedresponse\u0022:\u0022Network+and+connectivity+troubleshooting+guide\u0022,\u0022applinks.docs.configuring.auth.basic\u0022:\u0022Configuring+Basic+HTTP+Authentication+for+an+Application+Link\u0022,\u0022applinks.docs.diagnostics.troubleshoot.authlevelmismatch\u0022:\u0022OAuth+troubleshooting+guide\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.applinks-types"]="{\u0022crowd\u0022:\u0022\u4eba\u7fa4\u0022,\u0022confluence\u0022:\u0022Confluence\u0022,\u0022fecru\u0022:\u0022\u9c7c\u773c/\u7194\u7089\u3002\u0022,\u0022stash\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u0022,\u0022jira\u0022:\u0022Jira\u0022,\u0022refapp\u0022:\u0022\u76f8\u5173\u5e94\u7528\u7a0b\u5e8f\u0022,\u0022bamboo\u0022:\u0022\u7af9\u0022,\u0022generic\u0022:\u0022\u901a\u7528\u5e94\u7528\u7a0b\u5e8f\u0022}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.entity-types"]="{\u0022singular\u0022:{\u0022refapp.charlie\u0022:\u0022Charlie\u0022,\u0022fecru.project\u0022:\u0022Crucible\u9879\u76ee\u0022,\u0022fecru.repository\u0022:\u0022FishEye \u4ed3\u5e93\u0022,\u0022stash.project\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u9879\u76ee\u0022,\u0022generic.entity\u0022:\u0022\u901a\u7528\u9879\u76ee\u0022,\u0022confluence.space\u0022:\u0022Confluence\u7a7a\u95f4\u0022,\u0022bamboo.project\u0022:\u0022Bamboo\u9879\u76ee\u0022,\u0022jira.project\u0022:\u0022JIRA\u9879\u76ee\u0022},\u0022plural\u0022:{\u0022refapp.charlie\u0022:\u0022\u67e5\u7406\u65af\u0022,\u0022fecru.project\u0022:\u0022Crucible\u9879\u76ee\u0022,\u0022fecru.repository\u0022:\u0022FishEye \u4ed3\u5e93\u96c6\u0022,\u0022stash.project\u0022:\u0022Bitbucket\u670d\u52a1\u5668\u9879\u76ee\u0022,\u0022generic.entity\u0022:\u0022\u901a\u7528\u9879\u76ee\u0022,\u0022confluence.space\u0022:\u0022Confluence\u7a7a\u95f4\u0022,\u0022bamboo.project\u0022:\u0022Bamboo\u9879\u76ee\u0022,\u0022jira.project\u0022:\u0022JIRA\u9879\u76ee\u96c6\u0022}}";
WRM._unparsedData["com.atlassian.applinks.applinks-plugin:applinks-common-exported.authentication-types"]="{\u0022com.atlassian.applinks.api.auth.types.BasicAuthenticationProvider\u0022:\u0022\u57fa\u672c\u8bbf\u95ee\u0022,\u0022com.atlassian.applinks.api.auth.types.TrustedAppsAuthenticationProvider\u0022:\u0022\u4fe1\u4efb\u7684\u5e94\u7528\u65e0\u6548\u0022,\u0022com.atlassian.applinks.api.auth.types.CorsAuthenticationProvider\u0022:\u0022\u6b4c\u73e5\u0022,\u0022com.atlassian.applinks.api.auth.types.OAuthAuthenticationProvider\u0022:\u0022Oauth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthAuthenticationProvider\u0022:\u0022Oauth\u0022,\u0022com.atlassian.applinks.api.auth.types.TwoLeggedOAuthWithImpersonationAuthenticationProvider\u0022:\u0022Oauth\u0022}";
WRM._unparsedData["com.atlassian.confluence.plugins.synchrony-interop:synchrony-status-banner-loader.synchrony-status"]="false";
WRM._unparsedData["com.atlassian.confluence.plugins.confluence-license-banner:confluence-license-banner-resources.license-details"]="{\u0022daysBeforeLicenseExpiry\u0022:0,\u0022daysBeforeMaintenanceExpiry\u0022:0,\u0022showLicenseExpiryBanner\u0022:false,\u0022showMaintenanceExpiryBanner\u0022:false,\u0022renewUrl\u0022:null,\u0022salesEmail\u0022:null}";
if(window.WRM._dataArrived)window.WRM._dataArrived();</script>
<link type="text/css" rel="stylesheet" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.css" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/95e45424174782bfaab4fc3392f77cc1-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/4b5553784f845e03bcd28ab91d0fa58a/_/download/contextbatch/css/_super/batch.css?conditionalComment=lt+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/95e45424174782bfaab4fc3392f77cc1-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/4b5553784f845e03bcd28ab91d0fa58a/_/download/contextbatch/css/_super/batch.css?conditionalComment=lte+IE+9" data-wrm-key="_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch(1).css" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<!--[if lt IE 9]>
<link type="text/css" rel="stylesheet" href="/s/3cb17d4b497a676836f2d42d201340a9-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/064c5c6845873bf5824415f82dad80ca/_/download/contextbatch/css/atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super/batch.css?analytics-enabled=true&amp;analytics-uploadable=true&amp;conditionalComment=lt+IE+9&amp;confluence.table.resizable=true&amp;highlightactions=true&amp;hostenabled=true&amp;is-server-instance=true" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/colors.css" media="all">
<script type="text/javascript" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js.下载" data-wrm-key="_super" data-wrm-batch-type="context"></script><style type="text/css"></style><style type="text/css"></style>
<script type="text/javascript" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js(1).下载" data-wrm-key="atl.confluence.plugins.pagetree-desktop,main,viewcontent,page,atl.general,atl.comments,-_super" data-wrm-batch-type="context"></script>

    
        
    

        
        <meta name="ajs-site-title" content="Confluence">
            
    

    
                <link rel="canonical" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115">
        <link rel="shortlink" href="http://c.hydee.cn/x/EwGaBg">
    <meta name="wikilink" content="[~2777:shardingsphere 数据脱敏]">
    <meta name="page-version" content="39">
    <meta name="ajs-page-version" content="39">

<script type="text/javascript" charset="utf-8" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js(2).下载"></script><link rel="stylesheet" type="text/css" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch(2).css"><script type="text/javascript" charset="utf-8" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js(3).下载"></script><link rel="stylesheet" type="text/css" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/com.atlassian.confluence.ext.newcode-macro-plugin_sh-theme-confluence.css"><script type="text/javascript" charset="utf-8" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js(4).下载"></script>
            <meta name="ajs-use-watch" content="true">
            <meta name="ajs-attachment-source-content-id" content="110756115">
            <meta name="ajs-use-inline-tasks" content="true">
            <meta name="ajs-heartbeat" content="true">
            <meta name="ajs-action-locale" content="zh_CN">
            <meta name="ajs-editor-plugin-resource-prefix" content="/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_">
            <meta name="ajs-edit-mode" content="collaborative">
            <meta name="ajs-user-watching-own-content" content="true">
            <meta name="ajs-new-page" content="false">
            <meta name="ajs-editor-mode" content="richtext">
            <meta name="ajs-auto-start" content="false">
            <meta name="ajs-conf-revision" content="confluence$content$110756115.116">
            <meta name="ajs-sync-revision-source" content="synchrony">
            <meta name="ajs-draft-id" content="110756116">
            <meta name="ajs-draft-share-id" content="86e850e1-7725-4446-b6aa-177359b3539a">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-collaborative-editor-status" content="">
            <meta name="ajs-existing-draft-id" content="0">
            <meta name="ajs-content-id" content="110756115">
            <meta name="ajs-form-name" content="inlinecommentform">
            <meta name="ajs-can-attach-files" content="true">
            <meta name="ajs-show-draft-message" content="false">
            <meta name="ajs-shared-drafts" content="true">
            <meta name="ajs-collaborative-content" content="true">
            <meta name="ajs-min-editor-height" content="150">
            <meta name="ajs-version-comment" content="">
            <meta name="ajs-draft-type" content="page">
                
                <meta name="ajs-synchrony-token" content="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJodHRwOlwvXC9jLmh5ZGVlLmNuXC9zeW5jaHJvbnlcL3YxIiwic3ViIjoiZmY4MDgwODE3MWU2ZjZjZjAxNzFlYTFkMjM5YzAwMDIiLCJhY2Nlc3MiOnsiXC9kYXRhXC9TeW5jaHJvbnktZDM5NGNkMDgtZmMzMC0zZjM3LTk0NjctZjgxNWU2ZTRmMjdiXC9jb25mbHVlbmNlLTExMDc1NjExNSI6ImZ1bGwiLCJcL2RhdGFcL1N5bmNocm9ueS1kMzk0Y2QwOC1mYzMwLTNmMzctOTQ2Ny1mODE1ZTZlNGYyN2JcL2NvbmZsdWVuY2UtMTEwNzU2MTE1LXRpdGxlIjoiZnVsbCJ9LCJyZXZpc2lvbk1ldGEiOnsidXNlcktleSI6ImZmODA4MDgxNzFlNmY2Y2YwMTcxZWExZDIzOWMwMDAyIn0sInNlc3Npb24iOnsiYXZhdGFyVVJMIjoiXC9pbWFnZXNcL2ljb25zXC9wcm9maWxlcGljc1wvZGVmYXVsdC5zdmciLCJuYW1lIjoiMjgyNiIsImZ1bGxuYW1lIjoi54aK5p2wIn0sImlzcyI6IlN5bmNocm9ueS1kMzk0Y2QwOC1mYzMwLTNmMzctOTQ2Ny1mODE1ZTZlNGYyN2IiLCJleHAiOjE2MDczOTU3NjgsImlhdCI6MTYwNzMwOTM2OH0.A7kFN-t3gV12--x-T5yR6kBqFwI_jNh05ho9vdIDixE">
    <meta name="ajs-synchrony-base-url" content="http://c.hydee.cn/synchrony,http://c.hydee.cn/synchrony-proxy">
    <meta name="ajs-synchrony-app-id" content="Synchrony-d394cd08-fc30-3f37-9467-f815e6e4f27b">
    <meta name="ajs-synchrony-expiry" content="1607394868">
    <meta name="ajs-use-xhr-fallback" content="true">

            		    <meta name="ajs-max-thumb-width" content="300">
		    <meta name="ajs-max-thumb-height" content="300">
		    <meta name="ajs-can-send-email" content="false">
		    <meta name="ajs-is-dev-mode" content="false">
		    <meta name="ajs-draft-save-interval" content="30000">
		    <meta name="ajs-show-hidden-user-macros" content="false">
		    <meta name="ajs-can-view-profile" content="true">
		    <meta name="ajs-is-admin" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autocomplete" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autoformat" content="false">
		    <meta name="ajs-heartbeat-interval" content="30000">
	
    <link rel="stylesheet" type="text/css" href="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch(3).css"><script type="text/javascript" charset="utf-8" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/batch.js(5).下载"></script></head>

    
<body id="com-atlassian-confluence" class="theme-default  aui-layout aui-theme-default synchrony-active" data-aui-version="7.6.1">

        
            <div id="stp-licenseStatus-banner"></div>
    <ul id="assistive-skip-links" class="assistive">
    <li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#title-heading">转至内容</a></li>
    <li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#breadcrumbs">转至导航栏</a></li>
    <li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#header-menu-bar">转至主菜单</a></li>
    <li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#navigation">转至动作菜单</a></li>
    <li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#quick-search-query">转至快速搜索</a></li>
</ul>
<div id="page">
<div id="full-height-container">
    <div id="header-precursor">
        <div class="cell">
            
                            </div>
    </div>
            





<header id="header" role="banner" class="">
    <nav class="aui-header aui-dropdown2-trigger-group" role="navigation" data-aui-responsive="true"><div class="aui-header-inner"><div class="aui-header-primary"><h1 id="logo" class="aui-header-logo aui-header-logo-confluence"><a href="http://c.hydee.cn/"><span class="aui-header-logo-device">Confluence</span></a></h1><ul class="aui-nav" resolved="" style="width: auto;">
                            <li>
            
        
        
<a id="space-menu-link" class=" aui-dropdown2-trigger aui-nav-link" aria-controls="space-menu-link-content" aria-haspopup="true" role="button" title="空间" tabindex="0" data-aui-trigger="" resolved="" aria-expanded="false" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#space-menu-link-content">空间<span class="icon aui-icon-dropdown"></span></a><div id="space-menu-link-content" class="aui-dropdown2 aui-style-default aui-dropdown2-in-header aui-layer" role="menu" aria-hidden="true" resolved=""><div role="application"></div></div>
        </li>
                    <li>
            
    
        
<a id="people-directory-link" href="http://c.hydee.cn/browsepeople.action" class=" aui-nav-imagelink" title="人员">
            <span>人员</span>
    </a>
        </li>
                                        <li class="aui-buttons">
                                    
                                        <a href="http://c.hydee.cn/pages/createpage.action?spaceKey=~2777&amp;fromPageId=110756115&amp;src=quick-create" id="quick-create-page-button" class="aui-button aui-button-primary" title="创建空白页 (c)" tabindex="0">创建</a>
                                <a href="http://c.hydee.cn/pages/createpage.action?spaceKey=~2777&amp;fromPageId=110756115" id="create-page-button" class="aui-button aui-button-primary clc-create-dialog-btn" title="从模板创建" tabindex="0"><span class="aui-icon aui-icon-small aui-iconfont-more">创建 </span></a>
            </li>
    </ul>
</div><div class="aui-header-secondary"><ul class="aui-nav" resolved="">
                        <li>
        <form id="quick-search" class="aui-quicksearch dont-default-focus header-quicksearch" action="http://c.hydee.cn/dosearchsite.action" method="get"><fieldset><label for="quick-search-query" class="assistive">快速搜索</label><input id="quick-search-query" class="text app-search search quick-search-query" type="text" accesskey="q" autocomplete="off" name="queryString" title="快速搜索 (/æ g ，g)"><input id="quick-search-submit" class="quick-search-submit" type="submit" value="搜索"><div class="aui-dd-parent quick-nav-drop-down"></div></fieldset></form>
    </li>
        <li>
            
        <a id="help-menu-link" class="aui-nav-link aui-dropdown2-trigger aui-dropdown2-trigger-arrowless" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" aria-haspopup="true" title="帮助" resolved="" aria-controls="help-menu-link-content" aria-expanded="false">
        <span class="aui-icon aui-icon-small aui-iconfont-question-filled">帮助</span>
    </a>
    <nav id="help-menu-link-content" class="aui-dropdown2 aui-style-default aui-layer" aria-hidden="true" resolved="">
                    <div class="aui-dropdown2-section">
                                <ul id="help-menu-link-leading" class="aui-list-truncate section-leading first">
                                            <li>
        
            
<a id="confluence-help-link" href="https://docs.atlassian.com/confluence/docs-67/" class="    " title="访问Confluence文档首页" target="_blank">
        在线帮助
</a>
</li>
                                            <li>
    
                
<a id="keyboard-shortcuts-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="    " title="查看可用的键盘快捷方式 (?)">
        快捷键
</a>
</li>
                                            <li>
    
            
<a id="feed-builder-link" href="http://c.hydee.cn/dashboard/configurerssfeed.action" class="    " title="创建个性化的 RSS源。">
        RSS源建立器
</a>
</li>
                                            <li>
    
            
<a id="whats-new-menu-link" href="https://confluence.atlassian.com/display/DOC/Confluence+6.7+Release+Notes?a=false" class="    " title="">
        新功能
</a>
</li>
                                            <li>
    
                
<a id="gadget-directory-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="   user-item administration-link " title="浏览小工具">
        可用的小工具
</a>
</li>
                                            <li>
    
            
<a id="confluence-about-link" href="http://c.hydee.cn/aboutconfluencepage.action" class="    " title="获取关于Confluence的更多信息">
        关于Confluence
</a>
</li>
                                    </ul>
            </div>
            </nav>
    
    </li>
        <li>
                
    
    </li>
        <li>
                    
        
            
<a id="notifications-anchor" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="mw-anchor read aui-nav-imagelink" title="打开通知 (g ，n)"><div class="badge-i aui-icon aui-icon-small aui-iconfont-notification"></div><span class="badge-w"><span class="badge">0</span></span></a>
    
    </li>
        <li>
                                            
        <a id="user-menu-link" class="aui-dropdown2-trigger aui-dropdown2-trigger-arrowless " aria-haspopup="true" data-username="2826" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" title="熊杰" resolved="" aria-controls="user-menu-link-content" aria-expanded="false">
                    <div class="aui-avatar aui-avatar-small">
                <div class="aui-avatar-inner">
                                                                                                    <img src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/default.svg">
                </div>
            </div>
            <span class="aui-icon-dropdown"></span>
        </a>
        <nav id="user-menu-link-content" class="aui-dropdown2 aui-style-default aui-layer" aria-hidden="true" resolved="">
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-preferences" class="aui-list-truncate section-user-preferences first">
                                                    <li>
        
            
<a id="create-personal-space-link" href="http://c.hydee.cn/spaces/createpersonalspace.action" class="   user-item personal-space create-personal-space-link " title="">
        添加个人空间…
</a>
</li>
                                                    <li>
    
            
<a id="view-user-history-link" href="http://c.hydee.cn/users/viewuserhistory.action" class="   user-item user-history popup-link " title=" (g ，r)">
        最近浏览
</a>
</li>
                                                    <li>
    
            
<a id="user-recently-worked-on" href="http://c.hydee.cn/dashboard.action#recently-worked" class="   user-item " title="">
        最近的工作
</a>
</li>
                                            </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-content" class="aui-list-truncate section-user-content">
                                                    <li>
    
            
<a id="view-user-profile-link" href="http://c.hydee.cn/users/viewmyprofile.action" class="   user-item user-profile " title="">
        用户信息
</a>
</li>
                                                    <li>
    
            
<a id="view-mytasks-link" href="http://c.hydee.cn/plugins/inlinetasks/mytasks.action" class="   user-item list-user-status " title="">
        任务
</a>
</li>
                                                    <li>
    
            
<a id="user-favourites-link" href="http://c.hydee.cn/users/viewmyfavourites.action" class="   user-item " title="">
        收藏夹 
</a>
</li>
                                                    <li>
    
            
<a id="user-watches-link" href="http://c.hydee.cn/users/viewnotifications.action" class="   user-item " title="">
        关注
</a>
</li>
                                                    <li>
    
            
<a id="user-drafts-link" href="http://c.hydee.cn/users/viewmydrafts.action" class="   user-item " title="">
        草稿
</a>
</li>
                                                    <li>
    
            
<a id="user-network-link" href="http://c.hydee.cn/users/viewfollow.action?username=2826" class="   follow-link " title="">
        网络
</a>
</li>
                                                    <li>
    
            
<a id="user-settings-link" href="http://c.hydee.cn/users/viewmysettings.action" class="   user-item " title="">
        设置
</a>
</li>
                                                    <li>
    
            
<a id="upm-requests-link" href="http://c.hydee.cn/plugins/servlet/upm/requests?source=header_user" class="    " title="">
        Atlassian Marketplace
</a>
</li>
                                            </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="user-menu-link-user-operations" class="aui-list-truncate section-user-operations">
                                                    <li>
    
            
<a id="logout-link" href="http://c.hydee.cn/logout.action" class="   user-item logout-link " title="">
        注销
</a>
</li>
                                            </ul>
                </div>
                    </nav>
                    
    </li>
    </ul>
</div></div><!-- .aui-header-inner--></nav><!-- .aui-header -->
    <br class="clear">
</header>
    

    
    	<div class="ia-splitter">
    		<div class="ia-splitter-left">
    			<div class="ia-fixed-sidebar" style="width: 285px; visibility: visible; top: 40.9943px; left: 0px;">
                                            
                            <div class="acs-side-bar ia-scrollable-section"><div class="acs-side-bar-space-info tipsy-enabled" data-configure-tooltip="编辑空间详情"><div class="avatar"><div class="space-logo" data-key="~2777" data-name="胡俊" data-entity-type="confluence.space"><div class="avatar-img-container"><div class="avatar-img-wrapper"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=53969354&amp;src=sidebar" title="胡俊"><img class="avatar-img" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/default.svg" alt="胡俊"></a></div></div></div></div><div class="space-information-container"><div class="name"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=53969354&amp;src=sidebar" title="胡俊">胡俊</a></div><div class="flyout-handle icon aui-icon aui-icon-small aui-iconfont-edit"></div><div class="favourite-space-icon"><button title="收藏空间" id="space-favourite-add" class="space-favourite aui-icon aui-icon-small aui-iconfont-unstar"></button><button class=" space-favourite-hidden  space-favourite aui-icon aui-icon-small aui-iconfont-star" id="space-favourite-remove" title="取消收藏"></button></div></div></div><div class="acs-side-bar-content"><div class="acs-nav-wrapper"><div class="acs-nav" data-has-create-permission="true" data-quick-links-state="null" data-page-tree-state="null" data-nav-type="pages"><div class="acs-nav-sections"><div class="main-links-section "><ul class="acs-nav-list"><li class="acs-nav-item profile" data-collector-key="spacebar-profile"><a class="acs-nav-item-link tipsy-enabled" href="http://c.hydee.cn/users/viewuserprofile.action?username=2777&amp;src=sidebar" data-collapsed-tooltip="用户信息"><span class="icon"></span><span class="acs-nav-item-label">用户信息</span></a></li><li class="acs-nav-item wiki current-item" data-collector-key="spacebar-pages"><a class="acs-nav-item-link tipsy-enabled" href="http://c.hydee.cn/collector/pages.action?key=~2777&amp;src=sidebar" data-collapsed-tooltip="页面"><span class="icon"></span><span class="acs-nav-item-label">页面</span></a></li><li class="acs-nav-item blog" data-collector-key="spacebar-blogs"><a class="acs-nav-item-link tipsy-enabled" href="http://c.hydee.cn/pages/viewrecentblogposts.action?key=~2777&amp;src=sidebar" data-collapsed-tooltip="博文"><span class="icon"></span><span class="acs-nav-item-label">博文</span></a></li></ul></div><div class="quick-links-wrapper"><h5 class="ia-quick-links-header-title">空间快捷链接</h5><div class="quick-links-section tipsy-enabled " data-collapsed-tooltip="空间快捷链接"><ul class="acs-nav-list"><li class="acs-nav-item pinned_blog_post"><a class="acs-nav-item-link tipsy-enabled" href="http://c.hydee.cn/pages/viewpage.action?pageId=53969358&amp;src=spaceshortcut" data-collapsed-tooltip="null"><span class="icon"></span><span class="acs-nav-item-label">基础组件相关</span></a></li></ul></div></div></div></div></div><div class="ia-secondary-container tipsy-enabled" data-tree-type="pages" data-collapsed-tooltip="子页面"><div class="ia-secondary-header"><h5 class="ia-secondary-header-title pages"><span class="label">子页面</span></h5></div><div class="ia-secondary-parent-content"><ul class="parent ia-secondary-header-title wiki"><li class="parent-item"><a class="parent-item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=53969354&amp;src=contextnavchildmode" title="胡俊的主页"><span class="icon"></span><span class="label">胡俊的主页</span></a></li></ul></div><div class="ia-secondary-current-content"><ul class="ia-secondary-currentPage-title wiki current-item"><li><span class="icon"></span><span class="label">shardingsphere 数据脱敏</span></li></ul></div><div class="ia-secondary-content"><div class="contextual-nav-child-pages"><a class="create-child-page-link" href="http://c.hydee.cn/pages/createpage.action?spaceKey=~2777&amp;fromPageId=110756115&amp;src=contextnavchildmode"><span class="aui-icon aui-icon-small aui-iconfont-add-small"></span><span class="label">创建子页面</span></a></div></div></div></div><div class="hidden"><a href="http://c.hydee.cn/collector/pages.action?key=~2777&amp;src=sidebar" id="space-pages-link" title=" (g ，s)"></a><script type="text/x-template" title="logo-config-content"><h2>空间详情</h2><div class="personal-space-logo-hint">您的个人头像被作为您的个人空间的logo使用。<a href="/users/profile/editmyprofilepicture.action" target="_blank">更改您的个人头像</a>.</div></script></div></div><div class="space-tools-section"><div id="space-tools-menu-additional-items" class="hidden"><div data-label="重排页面" data-class="" data-href="/pages/reorderpages.action?key=~2777">重排页面</div><div data-label="配置侧边栏" data-class="configure-sidebar" data-href="">配置侧边栏</div></div><button id="space-tools-menu-trigger" class=" aui-dropdown2-trigger aui-button aui-button-subtle tipsy-enabled aui-dropdown2-trigger-arrowless " aria-controls="space-tools-menu" aria-haspopup="true" role="button" data-aui-trigger="" resolved="" aria-expanded="false" data-collapsed-tooltip="空间管理"><span class="aui-icon aui-icon-small aui-iconfont-configure">设置</span><span class="aui-button-label">空间管理</span><span class="icon aui-icon-dropdown"></span></button><div id="space-tools-menu" class="aui-dropdown2 aui-style-default space-tools-dropdown aui-layer" role="menu" aria-hidden="true" data-aui-alignment="top left" resolved=""><div role="presentation" class="aui-dropdown2-section space-tools-navigation"><div role="group"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/spaces/viewspacesummary.action?key=~2777&amp;src=spacetools">概览</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/spaces/spacepermissions.action?key=~2777&amp;src=spacetools">权限</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/pages/templates2/listpagetemplates.action?key=~2777&amp;src=spacetools">内容工具</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/spaces/choosetheme.action?key=~2777&amp;src=spacetools">外观</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/spaces/hipchat2.action?key=~2777&amp;src=spacetools">集成</a></li></ul></div></div><div role="presentation" class="aui-dropdown2-section space-operations"><div role="group"><ul class="aui-list-truncate" role="presentation"><li role="presentation"><a role="menuitem" tabindex="-1" class="" href="http://c.hydee.cn/pages/reorderpages.action?key=~2777&amp;src=spacetools">重排页面</a></li><li role="presentation"><a role="menuitem" tabindex="-1" class=" configure-sidebar">配置侧边栏</a></li></ul></div></div></div><a class="expand-collapse-trigger aui-icon aui-icon-small aui-iconfont-chevron-double-left" data-tooltip="收起侧边栏 ( [ )"></a></div>
                    
                        			<div class="ia-splitter-handle tipsy-enabled" data-tooltip="收起侧边栏 ( [ )" original-title=" ([)"><div class="ia-splitter-handle-highlight confluence-icon-grab-handle"></div></div></div>
    		</div>
        <!-- \#header -->

            
    
        <div id="main" class=" aui-page-panel" style="margin-left: 285px;">
                        <div id="main-header" class="" style="top: 41px; width: 1946px;">
                        
    <div id="navigation" class="content-navigation view">
                    <ul class="ajs-menu-bar">
                                                                    <li class="ajs-button normal">

        
        
                                            
    
    
    <a id="editPageLink" href="http://c.hydee.cn/pages/editpage.action?pageId=110756115" rel="nofollow" class="aui-button aui-button-subtle edit" accesskey="e" title="编辑 (e)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-edit"></span>
                        <u>E</u>编辑
        </span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="page-favourite" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" rel="nofollow" class="aui-button aui-button-subtle action-page-favourite" accesskey="f" title="收藏 (f)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-unstar"></span>
                        <u>f</u>收藏
        </span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="watch-content-button" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" rel="nofollow" class="aui-button aui-button-subtle watch-menu watch-state-initialised" title="关注(w)">
                <span><span class="aui-icon aui-icon-small aui-iconfont-unwatch"></span> <u> </u> 观看</span>    </a>
</li>
                                            <li class="ajs-button normal">

        
            
                                            
    
    
    <a id="shareContentLink" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" rel="nofollow" class="aui-button aui-button-subtle share" title="Share this page with others (sæ k)">
                <span>
                            <span class="aui-icon aui-icon-small aui-iconfont-share"></span>
                        <u>S</u>分享
        </span>    </a>
</li>
                    
        <li class="normal ajs-menu-item">
        <a id="action-menu-link" class="action aui-dropdown2-trigger-arrowless aui-button aui-button-subtle ajs-menu-title aui-dropdown2-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" aria-haspopup="true" data-container="#navigation" resolved="" aria-controls="action-menu" aria-expanded="false">
            <span>
                                    <span class="aui-icon aui-icon-small aui-iconfont-more"></span>
                                
            </span>
        </a>         <div id="action-menu" class="aui-dropdown2 aui-style-default aui-layer most-right-menu-item" aria-hidden="true" resolved="">
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-primary" class="section-primary first">
                                                    <li>

    
        
                                            
    
    
    <a id="view-attachments-link" href="http://c.hydee.cn/pages/viewpageattachments.action?pageId=110756115" rel="nofollow" class="action-view-attachments" accesskey="t" title="查看附件 (t)">
                <span>
                        <u>t</u>附件(12)
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-view-history-link" href="http://c.hydee.cn/pages/viewpreviousversions.action?pageId=110756115" rel="nofollow" class="action-view-history" title="">
                <span>
                        页面历史
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-page-permissions-link" href="http://c.hydee.cn/pages/viewinfo.action?pageId=110756115" rel="nofollow" class="action-page-permissions" title="编辑限制">
                <span>
                        限制
        </span>    </a>
</li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-secondary" class="section-secondary">
                                                    <li>

    
        
                                            
    
    
    <a id="view-page-info-link" href="http://c.hydee.cn/pages/viewinfo.action?pageId=110756115" rel="nofollow" class="action-view-info" title="">
                <span>
                        页面信息
        </span>    </a>
</li>
                                                <li>

    
            
                                            
    
    
    <a id="view-resolved-comments" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" rel="nofollow" class="" title="">
                <span>已解决评论 (0)</span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="view-in-hierarchy-link" href="http://c.hydee.cn/pages/reorderpages.action?key=~2777&amp;openId=110756115#selectedPageInHierarchy" rel="nofollow" class="" title="">
                <span>
                        以层级方式查看
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-view-source-link" href="http://c.hydee.cn/plugins/viewsource/viewpagesrc.action?pageId=110756115" rel="nofollow" class="action-view-source popup-link" title="">
                <span>
                        查看页面源代码
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-export-pdf-link" href="http://c.hydee.cn/spaces/flyingpdf/pdfpageexport.action?pageId=110756115" rel="nofollow" class="" title="">
                <span>
                        导出为PDF
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-export-word-link" href="http://c.hydee.cn/exportword?pageId=110756115" rel="nofollow" class="action-export-word" title="">
                <span>
                        导出为Word
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="import-word-doc" href="http://c.hydee.cn/pages/worddav/uploadimport.action?pageId=110756115" rel="nofollow" class="" title="">
                <span>
                        Doc文件导入
        </span>    </a>
</li>
                                        </ul>
                </div>
                            <div class="aui-dropdown2-section">
                    <ul id="action-menu-modify" class="section-modify">
                                                    <li>

    
        
                                            
    
    
    <a id="action-copy-page-link" href="http://c.hydee.cn/pages/copypage.action?idOfPageToCopy=110756115&amp;spaceKey=~2777" rel="nofollow" class="action-copy" title="">
                <span>
                        复制
        </span>    </a>
</li>
                                                <li>

    
        
                                            
    
    
    <a id="action-move-page-dialog-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115" rel="nofollow" class="action-move" title="">
                <span>
                        移动
        </span>    </a>
</li>
                                        </ul>
                </div>
                    </div>
    </li>
            </ul>
    </div>

            
            <div id="title-heading" class="pagetitle with-breadcrumbs">
                
                                    <div id="breadcrumb-section">
                        
    
    
    <ol id="breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="http://c.hydee.cn/collector/pages.action?key=~2777&amp;src=breadcrumbs-collector">页面</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="http://c.hydee.cn/pages/viewpage.action?pageId=53969354&amp;src=breadcrumbs-parent">胡俊的主页</a></span>
                                                                    </li></ol>


                    </div>
                
                
        <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#page-banner-end" class="assistive">跳到banner的尾部</a>
<div id="page-banner-start" class="assistive"></div>

                    
            <div id="page-metadata-banner" style="visibility: visible;"><ul class="banner"><li id="system-content-items" class="noprint"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115" title="未限制" id="content-metadata-page-restrictions" class="aui-icon aui-icon-small aui-iconfont-unlocked system-metadata-restrictions" resolved=""></a><a href="http://c.hydee.cn/pages/viewpageattachments.action?pageId=110756115&amp;metadataLink=true" title="12 个附件" id="content-metadata-attachments" class="aui-icon aui-icon-small aui-iconfont-attachment"></a></li><li class="page-metadata-item noprinthas-button" id="content-metadata-jira-wrapper"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115" title="" id="content-metadata-jira" class="aui-button aui-button-subtle content-metadata-jira tipsy-disabled hidden"><span>JIRA 链接</span></a></li></ul></div>
            

<a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#page-banner-start" class="assistive">回到标题开始</a>
<div id="page-banner-end" class="assistive"></div>
    

                <h1 id="title-text" class="with-breadcrumbs" style="display: block;">
                                                <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115">shardingsphere 数据脱敏</a>
                                    </h1>
            </div>
        </div><!-- \#main-header -->
        
        

        <div id="sidebar-container">
                                    </div><!-- \#sidebar-container -->

        
    

        




            
    

                                
    

    
    
        
    
    
                    
    

    

    
            
        

    
    

    
            
        



    
<div id="content" class="page view">
    


<div id="action-messages">
                        </div>



            <script type="text/x-template" title="searchResultsGrid">
    <table class="aui">
        <thead>
            <tr class="header">
                <th class="search-result-title">页面标题</th>
                <th class="search-result-space">空间</th>
                <th class="search-result-date">更新于</th>
            </tr>
        </thead>
    </table>
</script>
<script type="text/x-template" title="searchResultsGridCount">
    <p class="search-result-count">{0}</p>
</script>
<script type="text/x-template" title="searchResultsGridRow">
    <tr class="search-result">
        <td class="search-result-title"><a href="{1}" class="content-type-{2}"><span>{0}</span></a></td>
        <td class="search-result-space"><a class="space" href="/display/{4}/" title="{3}">{3}</a></td>
        <td class="search-result-date"><span class="date" title="{6}">{5}</span></td>
    </tr>
</script>
        
    
            

                                                    
                    
                            
    

                    

        
        <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#page-metadata-end" class="assistive">转至元数据结尾</a>
<div id="page-metadata-start" class="assistive"></div>

    <div class="page-metadata">
        <ul>
            <li class="page-metadata-modification-info">
                
        
    
        
    
        
            
            由<span class="author">     <a href="http://c.hydee.cn/display/~2777" class="url fn confluence-userlink userlink-0" data-username="2777" title="" data-user-hover-bound="true">胡俊</a></span>创建, 最后修改于<a class="last-modified" href="http://c.hydee.cn/pages/diffpagesbyversion.action?pageId=110756115&amp;selectedPageVersions=38&amp;selectedPageVersions=39" original-title="查看变更">八月 13, 2020</a>
                </li>
        </ul>
    </div>


<a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#page-metadata-start" class="assistive">转至元数据起始</a>
<div id="page-metadata-end" class="assistive"></div>

        
                                            
        <div id="main-content" class="wiki-content">
                           
        <p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="93" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_10-6-38.png" data-image-src="/download/attachments/110756115/image2020-8-11_10-6-38.png?version=1&amp;modificationDate=1597111599000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098231" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_10-6-38.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span></p><p>如图，假设有个user表里面password存的是明文，现在要对password字段进行脱敏处理</p><p><br></p><h2 id="shardingsphere数据脱敏-shardingsphere数据脱敏规则">shardingsphere 数据脱敏规则</h2><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" alt="2" width="700" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/2.png" data-image-src="https://shardingsphere.apache.org/document/legacy/4.x/document/img/encrypt/2.png"></span></p><p><br></p><p>其中logicColumn（虚拟列）既可以是数据库真实存在的字段也可以是虚拟的字段，这个虚拟列是数据脱敏的关键，可以使数据脱敏的过程中无需修改代码，平滑脱敏</p><p>官方提供了J<span style="color: rgb(50,50,50);">ava、Yaml、SpringBoot、SpringNameSpace多种方式供用户选择接入，我们这里选择springboot的方式</span></p><h3 id="shardingsphere数据脱敏-数据脱敏的过程">数据脱敏的过程</h3><h4 id="shardingsphere数据脱敏-第一步：系统迁移前">第一步：系统迁移前</h4><ol><li>增加依赖<br><pre><span style="color: rgb(232,191,106);">&lt;dependency&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;groupId&gt;</span>org.apache.shardingsphere<span style="color: rgb(232,191,106);">&lt;/groupId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;artifactId&gt;</span>sharding-jdbc-spring-boot-starter<span style="color: rgb(232,191,106);">&lt;/artifactId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;version&gt;<span style="color: rgb(197,200,198);">${latest.release.version}</span></span><span style="color: rgb(232,191,106);">&lt;/version&gt;<br></span><span style="color: rgb(232,191,106);">&lt;/dependency&gt;</span></pre><p><span style="color: rgb(255,0,0);">增加依赖时，有一点需要注意</span></p><pre><span style="color: rgb(86,101,115);">查看项目是否引入自动配置的数据源（比如druid-spring-boot-starter），如下</span></pre><pre><span style="color: rgb(232,191,106);">&lt;dependency&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;groupId&gt;</span>com.alibaba<span style="color: rgb(232,191,106);">&lt;/groupId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;artifactId&gt;</span>druid-spring-boot-starter<span style="color: rgb(232,191,106);">&lt;/artifactId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;version&gt;$</span>{version}<span style="color: rgb(232,191,106);">&lt;/version&gt;<br></span><span style="color: rgb(232,191,106);">&lt;/dependency&gt;</span></pre><pre><span style="color: rgb(86,101,115);">如果有，先删除，<span style="color: rgb(50,50,50);">因为数据连接池的starter</span><span style="color: rgb(50,50,50);">可能会先加载并且其创建一个默认数据源，</span>而sharding启动时也会自动创建数据源，两者冲突，会报错。<br></span></pre><pre><span style="color: rgb(86,101,115);">如果要使用druid连接池。还需引入</span></pre><pre><span style="color: rgb(232,191,106);">&lt;dependency&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;groupId&gt;</span>com.alibaba<span style="color: rgb(232,191,106);">&lt;/groupId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;artifactId&gt;</span>druid<span style="color: rgb(232,191,106);">&lt;/artifactId&gt;<br></span><span style="color: rgb(232,191,106);"> &lt;version&gt;</span>${version}<span style="color: rgb(232,191,106);">&lt;/version&gt;<br></span><span style="color: rgb(232,191,106);">&lt;/dependency&gt;</span></pre><pre><br></pre></li><li><p>然后给需要脱敏的表新加一个&nbsp;<span style="color: rgb(0,51,102);">cipherColumn&nbsp;字段（存储密文的字段）&nbsp; ，名字可以自己定义，只要和配置文件中的相对应即可。<span style="color: rgb(153,51,0);">注意，jpa 在实体类中增加存储密文相关字段后，update时会报错，可以不加</span></span></p><p><span style="color: rgb(0,51,102);"><span style="color: rgb(153,51,0);"><br></span></span></p></li><li>增加修改配置</li></ol><p>&nbsp; &nbsp; &nbsp; &nbsp;shardingsphere的加解密器类型，可自定义或选择内置类型：<span style="color: rgb(23,43,77);letter-spacing: 0.0px;">MD5/AES，这里使用内置的aes类型</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">使用内置aes加密配置demo</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_858685" class="syntaxhighlighter collapsed sh-confluence nogutter  yml"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="yml variable">spring:</code></div><div class="line number2 index1 alt1"><code class="yml spaces">&nbsp;&nbsp;</code><code class="yml variable">shardingsphere:</code></div><div class="line number3 index2 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">datasource:</code></div><div class="line number4 index3 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">name:</code> <code class="yml plain">ds </code><code class="yml comments">#当有多个数据源时，请将属性名改为 names，多个数据源使用"，"分隔</code></div><div class="line number5 index4 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">ds:</code></div><div class="line number6 index5 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url:</code> <code class="yml plain">jdbc</code><code class="yml constants">:</code><code class="yml plain">mysql</code><code class="yml constants">:</code><code class="yml plain">//localhost</code><code class="yml constants">:</code><code class="yml plain">3306/my_test?allowMultiQueries=</code><code class="yml constants">true</code><code class="yml plain">&amp;serverTimezone=Asia/Shanghai&amp;useSSL=</code><code class="yml constants">false</code></div><div class="line number7 index6 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">username:</code> <code class="yml plain">root</code></div><div class="line number8 index7 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code> <code class="yml plain">admin</code></div><div class="line number9 index8 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">driver-class-name:</code> <code class="yml plain">com.mysql.cj.jdbc.Driver</code></div><div class="line number10 index9 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">com.alibaba.druid.pool.DruidDataSource</code></div><div class="line number11 index10 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">druid:</code></div><div class="line number12 index11 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">initial-size:</code> <code class="yml color2 bold">5</code></div><div class="line number13 index12 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-idle:</code> <code class="yml color2 bold">5</code></div><div class="line number14 index13 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-active:</code> <code class="yml color2 bold">50</code></div><div class="line number15 index14 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-wait:</code> <code class="yml color2 bold">10000</code></div><div class="line number16 index15 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">time-between-eviction-runs-millis:</code> <code class="yml color2 bold">60000</code></div><div class="line number17 index16 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-evictable-idle-time-millis:</code> <code class="yml color2 bold">300000</code></div><div class="line number18 index17 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">validation-query:</code> <code class="yml plain">SELECT 1 FROM DUAL</code></div><div class="line number19 index18 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">web-stat-filter:</code></div><div class="line number20 index19 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number21 index20 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/$</code><code class="yml constants">{</code><code class="yml plain">api.version</code><code class="yml constants">}</code><code class="yml plain">/*</code></div><div class="line number22 index21 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">stat-view-servlet:</code></div><div class="line number23 index22 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number24 index23 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-username:</code> <code class="yml plain">mask</code></div><div class="line number25 index24 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-password:</code> <code class="yml plain">hydee_mask</code></div><div class="line number26 index25 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/druid/*</code></div><div class="line number27 index26 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encrypt:</code></div><div class="line number28 index27 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptors:</code></div><div class="line number29 index28 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor_aes:</code><code class="yml comments">#加密器</code></div><div class="line number30 index29 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">aes </code><code class="yml comments">#加解密器类型，可自定义或选择内置类型：MD5/AES</code></div><div class="line number31 index30 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">props:</code></div><div class="line number32 index31 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">aes.key.value:</code> <code class="yml plain">hydee_aes_key&nbsp; </code><code class="yml comments">#属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number33 index32 alt2">&nbsp;</div><div class="line number34 index33 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number35 index34 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number36 index35 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number37 index36 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code></div><div class="line number38 index37 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">plainColumn:</code> <code class="yml plain">password </code><code class="yml comments">#存储明文的字段</code></div><div class="line number39 index38 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number40 index39 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">props:</code></div><div class="line number43 index42 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">sql:</code></div><div class="line number44 index43 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">show:</code> <code class="yml constants">true</code> <code class="yml comments">#打印sql日志</code></div><div class="line number45 index44 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">query:</code></div><div class="line number46 index45 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">with:</code></div><div class="line number47 index46 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipher:</code></div><div class="line number48 index47 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">column:</code> <code class="yml constants">false</code> <code class="yml comments">#是否使用密文列进行查询</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p><br></p><p>这样，之前配置文件中的数据源的配置可以去掉不用了</p><h5 id="shardingsphere数据脱敏-你还可以使用自定义的加解密配置，步骤和配置如下"><span style="color: rgb(255,0,0);">你还可以使用自定义的加解密配置，步骤和配置如下</span></h5><p>第一步：</p><p>实现Encryptor接口，例如</p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">自定义加解密类.java</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_903628" class="syntaxhighlighter collapsed sh-confluence  java"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div></td><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">cn.hydee.starter.starterdemo1.util;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">com.google.common.base.Preconditions;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.commons.lang3.StringUtils;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.shardingsphere.encrypt.strategy.impl.AESEncryptor;</code></div><div class="line number6 index5 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.shardingsphere.encrypt.strategy.spi.Encryptor;</code></div><div class="line number7 index6 alt2">&nbsp;</div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">java.util.Properties;</code></div><div class="line number9 index8 alt2">&nbsp;</div><div class="line number10 index9 alt1"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">HydeeShardingEncryptor </code><code class="java keyword">implements</code> <code class="java plain">Encryptor {</code></div><div class="line number11 index10 alt2">&nbsp;</div><div class="line number12 index11 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java plain">Properties properties = </code><code class="java keyword">new</code> <code class="java plain">Properties();</code></div><div class="line number13 index12 alt2">&nbsp;</div><div class="line number14 index13 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number15 index14 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">init() {</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number18 index17 alt1">&nbsp;</div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String encrypt(Object o) {</code></div><div class="line number21 index20 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(</code><code class="java keyword">null</code> <code class="java plain">== o) {</code></div><div class="line number22 index21 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number24 index23 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Preconditions.checkArgument(</code><code class="java keyword">this</code><code class="java plain">.properties.containsKey(</code><code class="java string">"aes.key.value"</code><code class="java plain">), </code><code class="java string">"No available secret key for `%s`."</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">Object[]{AESEncryptor.</code><code class="java keyword">class</code><code class="java plain">.getName()});</code></div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">AESUtil.encrypt(String.valueOf(o), </code><code class="java keyword">this</code><code class="java plain">.properties.get(</code><code class="java string">"aes.key.value"</code><code class="java plain">).toString());</code></div><div class="line number26 index25 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number27 index26 alt2">&nbsp;</div><div class="line number28 index27 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Object decrypt(String s) {</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">if</code> <code class="java plain">(StringUtils.isBlank(s)) {</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Preconditions.checkArgument(</code><code class="java keyword">this</code><code class="java plain">.properties.containsKey(</code><code class="java string">"aes.key.value"</code><code class="java plain">), </code><code class="java string">"No available secret key for `%s`."</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">Object[]{AESEncryptor.</code><code class="java keyword">class</code><code class="java plain">.getName()});</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">AESUtil.decrypt(s, </code><code class="java keyword">this</code><code class="java plain">.properties.get(</code><code class="java string">"aes.key.value"</code><code class="java plain">).toString());</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number36 index35 alt1">&nbsp;</div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">String getType() {</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java string">"HYDEE_AES"</code><code class="java plain">;</code></div><div class="line number40 index39 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number41 index40 alt2">&nbsp;</div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java plain">Properties getProperties() {</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">properties;</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number46 index45 alt1">&nbsp;</div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java color1">@Override</code></div><div class="line number48 index47 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">void</code> <code class="java plain">setProperties(Properties properties) {</code></div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">this</code><code class="java plain">.properties = properties;</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number51 index50 alt2"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p><br></p><p>具体的加解密AESUtil，使用的是AES加解密</p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">AESUtil.java</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_395424" class="syntaxhighlighter collapsed sh-confluence  java"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="gutter"><div class="line number1 index0 alt2">1</div><div class="line number2 index1 alt1">2</div><div class="line number3 index2 alt2">3</div><div class="line number4 index3 alt1">4</div><div class="line number5 index4 alt2">5</div><div class="line number6 index5 alt1">6</div><div class="line number7 index6 alt2">7</div><div class="line number8 index7 alt1">8</div><div class="line number9 index8 alt2">9</div><div class="line number10 index9 alt1">10</div><div class="line number11 index10 alt2">11</div><div class="line number12 index11 alt1">12</div><div class="line number13 index12 alt2">13</div><div class="line number14 index13 alt1">14</div><div class="line number15 index14 alt2">15</div><div class="line number16 index15 alt1">16</div><div class="line number17 index16 alt2">17</div><div class="line number18 index17 alt1">18</div><div class="line number19 index18 alt2">19</div><div class="line number20 index19 alt1">20</div><div class="line number21 index20 alt2">21</div><div class="line number22 index21 alt1">22</div><div class="line number23 index22 alt2">23</div><div class="line number24 index23 alt1">24</div><div class="line number25 index24 alt2">25</div><div class="line number26 index25 alt1">26</div><div class="line number27 index26 alt2">27</div><div class="line number28 index27 alt1">28</div><div class="line number29 index28 alt2">29</div><div class="line number30 index29 alt1">30</div><div class="line number31 index30 alt2">31</div><div class="line number32 index31 alt1">32</div><div class="line number33 index32 alt2">33</div><div class="line number34 index33 alt1">34</div><div class="line number35 index34 alt2">35</div><div class="line number36 index35 alt1">36</div><div class="line number37 index36 alt2">37</div><div class="line number38 index37 alt1">38</div><div class="line number39 index38 alt2">39</div><div class="line number40 index39 alt1">40</div><div class="line number41 index40 alt2">41</div><div class="line number42 index41 alt1">42</div><div class="line number43 index42 alt2">43</div><div class="line number44 index43 alt1">44</div><div class="line number45 index44 alt2">45</div><div class="line number46 index45 alt1">46</div><div class="line number47 index46 alt2">47</div><div class="line number48 index47 alt1">48</div><div class="line number49 index48 alt2">49</div><div class="line number50 index49 alt1">50</div><div class="line number51 index50 alt2">51</div><div class="line number52 index51 alt1">52</div><div class="line number53 index52 alt2">53</div><div class="line number54 index53 alt1">54</div><div class="line number55 index54 alt2">55</div><div class="line number56 index55 alt1">56</div><div class="line number57 index56 alt2">57</div><div class="line number58 index57 alt1">58</div><div class="line number59 index58 alt2">59</div><div class="line number60 index59 alt1">60</div><div class="line number61 index60 alt2">61</div><div class="line number62 index61 alt1">62</div><div class="line number63 index62 alt2">63</div><div class="line number64 index63 alt1">64</div><div class="line number65 index64 alt2">65</div><div class="line number66 index65 alt1">66</div><div class="line number67 index66 alt2">67</div><div class="line number68 index67 alt1">68</div><div class="line number69 index68 alt2">69</div><div class="line number70 index69 alt1">70</div><div class="line number71 index70 alt2">71</div><div class="line number72 index71 alt1">72</div><div class="line number73 index72 alt2">73</div><div class="line number74 index73 alt1">74</div><div class="line number75 index74 alt2">75</div><div class="line number76 index75 alt1">76</div><div class="line number77 index76 alt2">77</div><div class="line number78 index77 alt1">78</div><div class="line number79 index78 alt2">79</div><div class="line number80 index79 alt1">80</div><div class="line number81 index80 alt2">81</div><div class="line number82 index81 alt1">82</div><div class="line number83 index82 alt2">83</div><div class="line number84 index83 alt1">84</div><div class="line number85 index84 alt2">85</div><div class="line number86 index85 alt1">86</div><div class="line number87 index86 alt2">87</div><div class="line number88 index87 alt1">88</div><div class="line number89 index88 alt2">89</div><div class="line number90 index89 alt1">90</div><div class="line number91 index90 alt2">91</div><div class="line number92 index91 alt1">92</div><div class="line number93 index92 alt2">93</div><div class="line number94 index93 alt1">94</div><div class="line number95 index94 alt2">95</div><div class="line number96 index95 alt1">96</div><div class="line number97 index96 alt2">97</div><div class="line number98 index97 alt1">98</div><div class="line number99 index98 alt2">99</div><div class="line number100 index99 alt1">100</div><div class="line number101 index100 alt2">101</div><div class="line number102 index101 alt1">102</div><div class="line number103 index102 alt2">103</div><div class="line number104 index103 alt1">104</div><div class="line number105 index104 alt2">105</div><div class="line number106 index105 alt1">106</div><div class="line number107 index106 alt2">107</div><div class="line number108 index107 alt1">108</div></td><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="java keyword">package</code> <code class="java plain">cn.hydee.starter.starterdemo1.util;</code></div><div class="line number2 index1 alt1">&nbsp;</div><div class="line number3 index2 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.commons.codec.binary.Base64;</code></div><div class="line number4 index3 alt1"><code class="java keyword">import</code> <code class="java plain">org.apache.commons.codec.binary.StringUtils;</code></div><div class="line number5 index4 alt2"><code class="java keyword">import</code> <code class="java plain">org.apache.commons.codec.digest.DigestUtils;</code></div><div class="line number6 index5 alt1">&nbsp;</div><div class="line number7 index6 alt2"><code class="java keyword">import</code> <code class="java plain">javax.crypto.Cipher;</code></div><div class="line number8 index7 alt1"><code class="java keyword">import</code> <code class="java plain">javax.crypto.KeyGenerator;</code></div><div class="line number9 index8 alt2"><code class="java keyword">import</code> <code class="java plain">javax.crypto.SecretKey;</code></div><div class="line number10 index9 alt1"><code class="java keyword">import</code> <code class="java plain">javax.crypto.spec.SecretKeySpec;</code></div><div class="line number11 index10 alt2"><code class="java keyword">import</code> <code class="java plain">java.security.NoSuchAlgorithmException;</code></div><div class="line number12 index11 alt1"><code class="java keyword">import</code> <code class="java plain">java.security.SecureRandom;</code></div><div class="line number13 index12 alt2"><code class="java keyword">import</code> <code class="java plain">java.util.Arrays;</code></div><div class="line number14 index13 alt1"><code class="java keyword">import</code> <code class="java plain">java.util.logging.Level;</code></div><div class="line number15 index14 alt2"><code class="java keyword">import</code> <code class="java plain">java.util.logging.Logger;</code></div><div class="line number16 index15 alt1">&nbsp;</div><div class="line number17 index16 alt2"><code class="java preprocessor">/**</code></div><div class="line number18 index17 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* @version V1.0</code></div><div class="line number19 index18 alt2"><code class="java spaces">&nbsp;</code><code class="java preprocessor">* @desc AES 加密工具类</code></div><div class="line number20 index19 alt1"><code class="java spaces">&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number21 index20 alt2"><code class="java keyword">public</code> <code class="java keyword">class</code> <code class="java plain">AESUtil {</code></div><div class="line number22 index21 alt1">&nbsp;</div><div class="line number23 index22 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">String KEY = </code><code class="java string">"hydee_aes_key"</code><code class="java plain">;</code></div><div class="line number24 index23 alt1">&nbsp;</div><div class="line number25 index24 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">String KEY_ALGORITHM = </code><code class="java string">"AES"</code><code class="java plain">;</code></div><div class="line number26 index25 alt1">&nbsp;</div><div class="line number27 index26 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">final</code> <code class="java plain">String DEFAULT_CIPHER_ALGORITHM = </code><code class="java string">"AES/ECB/PKCS5Padding"</code><code class="java plain">;</code><code class="java comments">//默认的加密算法</code></div><div class="line number28 index27 alt1">&nbsp;</div><div class="line number29 index28 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/**</code></div><div class="line number30 index29 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* AES 加密操作</code></div><div class="line number31 index30 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @param content 待加密内容</code></div><div class="line number32 index31 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @return 返回Base64转码后的加密数据</code></div><div class="line number33 index32 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number34 index33 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java plain">String encrypt(String content, String secretKey) {</code></div><div class="line number35 index34 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number36 index35 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Cipher cipher = Cipher.getInstance(DEFAULT_CIPHER_ALGORITHM); </code><code class="java comments">// 创建密码器</code></div><div class="line number37 index36 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] byteContent = content.getBytes(</code><code class="java string">"utf-8"</code><code class="java plain">);</code></div><div class="line number38 index37 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">byteContent = StringUtils.getBytesUtf8(content);</code></div><div class="line number39 index38 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cipher.init(Cipher.ENCRYPT_MODE, </code><code class="java keyword">new</code> <code class="java plain">SecretKeySpec(createSecretKey(secretKey), KEY_ALGORITHM)); </code><code class="java comments">// 初始化为加密模式的密码器</code></div><div class="line number40 index39 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cipher.init(Cipher.ENCRYPT_MODE, getSecretKey()); // 初始化为加密模式的密码器</code></div><div class="line number41 index40 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] result = cipher.doFinal(byteContent); </code><code class="java comments">// 加密</code></div><div class="line number42 index41 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">Base64.encodeBase64String(result); </code><code class="java comments">// 通过Base64转码返回</code></div><div class="line number43 index42 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(Exception ex) {</code></div><div class="line number44 index43 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Logger.getLogger(AESUtil.</code><code class="java keyword">class</code><code class="java plain">.getName()).log(Level.SEVERE, </code><code class="java keyword">null</code><code class="java plain">, ex); </code><code class="java comments">// java自带日志</code></div><div class="line number45 index44 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number46 index45 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number47 index46 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number48 index47 alt1">&nbsp;</div><div class="line number49 index48 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/**</code></div><div class="line number50 index49 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* AES 解密操作</code></div><div class="line number51 index50 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @param content</code></div><div class="line number52 index51 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @return</code></div><div class="line number53 index52 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number54 index53 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java plain">String decrypt(String content, String secretKey) {</code></div><div class="line number55 index54 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number56 index55 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//实例化</code></div><div class="line number57 index56 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Cipher cipher = Cipher.getInstance(DEFAULT_CIPHER_ALGORITHM);</code></div><div class="line number58 index57 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//使用密钥初始化，设置为解密模式</code></div><div class="line number59 index58 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">cipher.init(Cipher.DECRYPT_MODE, </code><code class="java keyword">new</code> <code class="java plain">SecretKeySpec(createSecretKey(secretKey), KEY_ALGORITHM));</code></div><div class="line number60 index59 alt1"><code class="java comments">//&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; cipher.init(Cipher.DECRYPT_MODE, getSecretKey());</code></div><div class="line number61 index60 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">//执行操作</code></div><div class="line number62 index61 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">byte</code><code class="java plain">[] result = cipher.doFinal(Base64.decodeBase64(content));</code></div><div class="line number63 index62 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">String(result, </code><code class="java string">"utf-8"</code><code class="java plain">);</code></div><div class="line number64 index63 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(Exception ex) {</code></div><div class="line number65 index64 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Logger.getLogger(AESUtil.</code><code class="java keyword">class</code><code class="java plain">.getName()).log(Level.SEVERE, </code><code class="java keyword">null</code><code class="java plain">, ex);</code></div><div class="line number66 index65 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number67 index66 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number68 index67 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number69 index68 alt2">&nbsp;</div><div class="line number70 index69 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/**</code></div><div class="line number71 index70 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* 生成加密秘钥</code></div><div class="line number72 index71 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @return</code></div><div class="line number73 index72 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number74 index73 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java plain">SecretKeySpec getSecretKey() {</code></div><div class="line number75 index74 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// 返回生成指定算法密钥生成器的 KeyGenerator 对象</code></div><div class="line number76 index75 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">KeyGenerator kg = </code><code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number77 index76 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">try</code> <code class="java plain">{</code></div><div class="line number78 index77 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">kg = KeyGenerator.getInstance(KEY_ALGORITHM);</code></div><div class="line number79 index78 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// AES 要求密钥长度为 128</code></div><div class="line number80 index79 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">kg.init(</code><code class="java value">128</code><code class="java plain">, </code><code class="java keyword">new</code> <code class="java plain">SecureRandom(KEY.getBytes()));</code></div><div class="line number81 index80 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// 生成一个密钥</code></div><div class="line number82 index81 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">SecretKey secretKey = kg.generateKey();</code></div><div class="line number83 index82 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">new</code> <code class="java plain">SecretKeySpec(secretKey.getEncoded(), KEY_ALGORITHM); </code><code class="java comments">// 转换为AES专用密钥</code></div><div class="line number84 index83 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">} </code><code class="java keyword">catch</code> <code class="java plain">(NoSuchAlgorithmException ex) {</code></div><div class="line number85 index84 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">Logger.getLogger(AESUtil.</code><code class="java keyword">class</code><code class="java plain">.getName()).log(Level.SEVERE, </code><code class="java keyword">null</code><code class="java plain">, ex);</code></div><div class="line number86 index85 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number87 index86 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java keyword">null</code><code class="java plain">;</code></div><div class="line number88 index87 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number89 index88 alt2">&nbsp;</div><div class="line number90 index89 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">/**</code></div><div class="line number91 index90 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* 采用与shardingsphere内置aes一样的密钥生成方法</code></div><div class="line number92 index91 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @param secretKey</code></div><div class="line number93 index92 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">* @return</code></div><div class="line number94 index93 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java preprocessor">*/</code></div><div class="line number95 index94 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">private</code> <code class="java keyword">static</code> <code class="java keyword">byte</code><code class="java plain">[] createSecretKey(String secretKey) {</code></div><div class="line number96 index95 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">return</code> <code class="java plain">Arrays.copyOf(DigestUtils.sha1(secretKey), </code><code class="java value">16</code><code class="java plain">);</code></div><div class="line number97 index96 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number98 index97 alt1">&nbsp;</div><div class="line number99 index98 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java comments">// 测试</code></div><div class="line number100 index99 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java keyword">public</code> <code class="java keyword">static</code> <code class="java keyword">void</code> <code class="java plain">main(String[] args) {</code></div><div class="line number101 index100 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s = </code><code class="java string">"suqin"</code><code class="java plain">;</code></div><div class="line number102 index101 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"加密前:"</code> <code class="java plain">+ s);</code></div><div class="line number103 index102 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">String s1 = AESUtil.encrypt(s, KEY);</code></div><div class="line number104 index103 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"加密后:"</code> <code class="java plain">+ s1);</code></div><div class="line number105 index104 alt2"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">System.out.println(</code><code class="java string">"解密后:"</code><code class="java plain">+AESUtil.decrypt(s1, KEY));</code></div><div class="line number106 index105 alt1"><code class="java spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="java plain">}</code></div><div class="line number107 index106 alt2">&nbsp;</div><div class="line number108 index107 alt1"><code class="java plain">}</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p>第二步：</p><p>然后需要在<span style="color: rgb(77,77,77);">项目的resource目录下，新增配置文件，配置文件位于resource/META-INF/services下，如果没有此目录，请自行创建</span></p><p><span style="color: rgb(77,77,77);"><span style="color: rgb(77,77,77);">配置文件的名字就是对外提供实现拓展服务的全路径名字，也就是&nbsp;<span style="color: rgb(77,77,77);">Encryptor 这个接口的全路径，例如</span></span></span></p><p><span style="color: rgb(77,77,77);"><span style="color: rgb(77,77,77);"><span style="color: rgb(77,77,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="106" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_11-51-10.png" data-image-src="/download/attachments/110756115/image2020-8-11_11-51-10.png?version=1&amp;modificationDate=1597117871000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098287" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_11-51-10.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span><br></span></span></span></p><p><br></p><p><span style="color: rgb(77,77,77);">然后文件里面的内容为你实现了这个接口的类的全路径，例如</span></p><p><span style="color: rgb(77,77,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="176" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_11-52-16.png" data-image-src="/download/attachments/110756115/image2020-8-11_11-52-16.png?version=1&amp;modificationDate=1597117937000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098288" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_11-52-16.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span><br></span></p><p><span style="color: rgb(23,43,77);">第三步：</span></p><p><span style="color: rgb(23,43,77);">修改配置文件，</span>只需要局部调整一下即可</p><p><span style="color: rgb(23,43,77);">这里只贴上局部的配置</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">部分配置</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_570062" class="syntaxhighlighter collapsed sh-confluence nogutter  yml"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">sharding:</code></div><div class="line number2 index1 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultDatabaseStrategy:</code></div><div class="line number3 index2 alt2"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hint:</code></div><div class="line number4 index3 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; algorithmClassName: cn.hydee.starter.starterdemo1.shardingsphere.MyDatasourceRoutingAlgorithm</code></div><div class="line number5 index4 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number6 index5 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number7 index6 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">actual-data-nodes:</code> <code class="yml plain">ds.user</code></div><div class="line number8 index7 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">t_user:</code></div><div class="line number9 index8 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">actual-data-nodes:</code> <code class="yml plain">ds2.t_user</code></div><div class="line number10 index9 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encrypt-rule:</code></div><div class="line number11 index10 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptors:</code></div><div class="line number12 index11 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; encryptor_aes: #加密器</code></div><div class="line number13 index12 alt2"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; type: aes&nbsp; #加解密器类型，可自定义或选择内置类型：MD5/AES</code></div><div class="line number14 index13 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; props:</code></div><div class="line number15 index14 alt2"><code class="yml comments">##&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aes.key.value: 123456 #属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number16 index15 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aes.key.value: hydee_aes_key #属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number17 index16 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor_aes:</code> <code class="yml comments">#加密器</code></div><div class="line number18 index17 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">HYDEE_AES&nbsp; </code><code class="yml comments">#加解密器类型，自定义选择实现 Encryptor 接口中getType() 的返回值</code></div><div class="line number19 index18 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">props:</code></div><div class="line number20 index19 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">aes.key.value:</code> <code class="yml plain">hydee_aes_key </code><code class="yml comments">#自定义解密器的密钥，必须配置，可以改名，不过相应代码也需要改</code></div><div class="line number21 index20 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number22 index21 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number23 index22 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number24 index23 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code></div><div class="line number25 index24 alt2"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; plainColumn: password #存储明文的字段</code></div><div class="line number26 index25 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number27 index26 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div><div class="line number28 index27 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">t_user:</code></div><div class="line number29 index28 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number30 index29 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">pwd:</code></div><div class="line number31 index30 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number32 index31 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p><span style="color: rgb(23,43,77);">注意事项：</span></p><p><span style="color: rgb(23,43,77);">1、自定义加解密器的type请选择</span>实现 Encryptor 接口中getType() 的返回值，例如</p><p><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="145" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_11-58-5.png" data-image-src="/download/attachments/110756115/image2020-8-11_11-58-5.png?version=1&amp;modificationDate=1597118286000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098290" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_11-58-5.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span></span></p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="163" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_11-59-2.png" data-image-src="/download/attachments/110756115/image2020-8-11_11-59-2.png?version=1&amp;modificationDate=1597118343000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098292" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_11-59-2.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span></p><p>2、自定义解密器的 aes.key.value 需要配置，因为这是加解密用的密钥。key可以改，不过需要同步修改代码。</p><p><br></p><p>自定义加解密配置代码如上，其他的地方几乎一样，也可以走通下面的流程，下面还是以内置aes为实例</p><ol><li>测试<br>通过新增修改数据，看看是否成功<br><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="250" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_10-6-22.png" data-image-src="/download/attachments/110756115/image2020-8-11_10-6-22.png?version=1&amp;modificationDate=1597111583000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098230" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_10-6-22.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span><br>测试没问题之后，第一步就大功告成了，这一步对原来的逻辑没什么影响，主要是新增了一个保存密文的字段，因为<span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">query.with.cipher.column设置为false，对业务应用来说，依旧使用password这一明文列进行查询存储，不过根据上面的table可以发现，之前已经存在的数据，密文字段为空，这就需要我们自己去处理这些历史数据了。<strong><span style="color: rgb(153,51,0);">由于Apache ShardingSphere目前并未提供相关迁移洗数工具，此时需要业务方自行将pwd中的明文数据进行加密处理存储到pwd_cipher。</span></strong></span></span><br><span style="color: rgb(23,43,77);">明文数据清洗可以参考一下上面提供的加解密工具类&nbsp;AESUtil.java，密钥相同情况下加解密的结果是和内置的aes一样的</span></li></ol><p><span style="color: rgb(50,50,50);"><span style="color: rgb(153,51,0);"><span style="color: rgb(23,43,77);">此时流程为</span><br></span></span></p><p><span style="color: rgb(50,50,50);"><span style="color: rgb(153,51,0);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" alt="6" height="250" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/6.png" data-image-src="https://shardingsphere.apache.org/document/legacy/4.x/document/img/encrypt/6.png"></span></span></span></p><p><span style="color: rgb(50,50,50);"><span style="color: rgb(153,51,0);"><br></span></span></p><p><span style="color: rgb(23,43,77);">多数据源的情况下，经测试，将配置文件改成如下可行</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">多数据源配置demo</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_719668" class="syntaxhighlighter collapsed sh-confluence nogutter  yml"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="yml variable">spring:</code></div><div class="line number2 index1 alt1"><code class="yml spaces">&nbsp;&nbsp;</code><code class="yml variable">shardingsphere:</code></div><div class="line number3 index2 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">datasource:</code></div><div class="line number4 index3 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">names:</code> <code class="yml plain">ds</code><code class="yml constants">,</code><code class="yml plain">ds2 </code><code class="yml comments">#当有多个数据源时，请将属性名改为 names，多个数据源使用"，"分隔</code></div><div class="line number5 index4 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">ds:</code></div><div class="line number6 index5 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url:</code> <code class="yml plain">jdbc</code><code class="yml constants">:</code><code class="yml plain">mysql</code><code class="yml constants">:</code><code class="yml plain">//localhost</code><code class="yml constants">:</code><code class="yml plain">3306/my_test?allowMultiQueries=</code><code class="yml constants">true</code><code class="yml plain">&amp;serverTimezone=Asia/Shanghai&amp;useSSL=</code><code class="yml constants">false</code></div><div class="line number7 index6 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">username:</code> <code class="yml plain">root</code></div><div class="line number8 index7 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code> <code class="yml plain">admin</code></div><div class="line number9 index8 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">driver-class-name:</code> <code class="yml plain">com.mysql.cj.jdbc.Driver</code></div><div class="line number10 index9 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">com.alibaba.druid.pool.DruidDataSource</code></div><div class="line number11 index10 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">druid:</code></div><div class="line number12 index11 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">initial-size:</code> <code class="yml color2 bold">5</code></div><div class="line number13 index12 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-idle:</code> <code class="yml color2 bold">5</code></div><div class="line number14 index13 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-active:</code> <code class="yml color2 bold">50</code></div><div class="line number15 index14 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-wait:</code> <code class="yml color2 bold">10000</code></div><div class="line number16 index15 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">time-between-eviction-runs-millis:</code> <code class="yml color2 bold">60000</code></div><div class="line number17 index16 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-evictable-idle-time-millis:</code> <code class="yml color2 bold">300000</code></div><div class="line number18 index17 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">validation-query:</code> <code class="yml plain">SELECT 1 FROM DUAL</code></div><div class="line number19 index18 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">web-stat-filter:</code></div><div class="line number20 index19 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number21 index20 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/$</code><code class="yml constants">{</code><code class="yml plain">api.version</code><code class="yml constants">}</code><code class="yml plain">/*</code></div><div class="line number22 index21 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">stat-view-servlet:</code></div><div class="line number23 index22 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number24 index23 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-username:</code> <code class="yml plain">mask</code></div><div class="line number25 index24 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-password:</code> <code class="yml plain">hydee_mask</code></div><div class="line number26 index25 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/druid/*</code></div><div class="line number27 index26 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">ds2:</code></div><div class="line number28 index27 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url:</code> <code class="yml plain">jdbc</code><code class="yml constants">:</code><code class="yml plain">mysql</code><code class="yml constants">:</code><code class="yml plain">//localhost</code><code class="yml constants">:</code><code class="yml plain">3306/my_test_two?allowMultiQueries=</code><code class="yml constants">true</code><code class="yml plain">&amp;serverTimezone=Asia/Shanghai&amp;useSSL=</code><code class="yml constants">false</code></div><div class="line number29 index28 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">username:</code> <code class="yml plain">root</code></div><div class="line number30 index29 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code> <code class="yml plain">admin</code></div><div class="line number31 index30 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">driver-class-name:</code> <code class="yml plain">com.mysql.cj.jdbc.Driver</code></div><div class="line number32 index31 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">com.alibaba.druid.pool.DruidDataSource</code></div><div class="line number33 index32 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">druid:</code></div><div class="line number34 index33 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">initial-size:</code> <code class="yml color2 bold">5</code></div><div class="line number35 index34 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-idle:</code> <code class="yml color2 bold">5</code></div><div class="line number36 index35 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-active:</code> <code class="yml color2 bold">50</code></div><div class="line number37 index36 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">max-wait:</code> <code class="yml color2 bold">10000</code></div><div class="line number38 index37 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">time-between-eviction-runs-millis:</code> <code class="yml color2 bold">60000</code></div><div class="line number39 index38 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">min-evictable-idle-time-millis:</code> <code class="yml color2 bold">300000</code></div><div class="line number40 index39 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">validation-query:</code> <code class="yml plain">SELECT 1 FROM DUAL</code></div><div class="line number41 index40 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">web-stat-filter:</code></div><div class="line number42 index41 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number43 index42 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/$</code><code class="yml constants">{</code><code class="yml plain">api.version</code><code class="yml constants">}</code><code class="yml plain">/*</code></div><div class="line number44 index43 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">stat-view-servlet:</code></div><div class="line number45 index44 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">enabled:</code> <code class="yml constants">false</code></div><div class="line number46 index45 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-username:</code> <code class="yml plain">mask</code></div><div class="line number47 index46 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">login-password:</code> <code class="yml plain">hydee_mask</code></div><div class="line number48 index47 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">url-pattern:</code> <code class="yml plain">/druid/*</code></div><div class="line number49 index48 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">sharding:</code></div><div class="line number50 index49 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; defaultDatabaseStrategy:</code></div><div class="line number51 index50 alt2"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; hint:</code></div><div class="line number52 index51 alt1"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; algorithmClassName: cn.hydee.starter.starterdemo1.shardingsphere.MyDatasourceRoutingAlgorithm</code></div><div class="line number53 index52 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number54 index53 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number55 index54 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">actual-data-nodes:</code> <code class="yml plain">ds.user</code></div><div class="line number56 index55 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">t_user:</code></div><div class="line number57 index56 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">actual-data-nodes:</code> <code class="yml plain">ds2.t_user</code></div><div class="line number58 index57 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encrypt-rule:</code></div><div class="line number59 index58 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptors:</code></div><div class="line number60 index59 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor_aes:</code> <code class="yml comments">#加密器</code></div><div class="line number61 index60 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">aes&nbsp; </code><code class="yml comments">#加解密器类型，可自定义或选择内置类型：MD5/AES</code></div><div class="line number62 index61 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">props:</code></div><div class="line number63 index62 alt2"><code class="yml comments">#&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp; aes.key.value: 123456 #属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number64 index63 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">aes.key.value:</code> <code class="yml plain">hydee_aes_key </code><code class="yml comments">#属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number65 index64 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number66 index65 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number67 index66 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number68 index67 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code></div><div class="line number69 index68 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">plainColumn:</code> <code class="yml plain">password </code><code class="yml comments">#存储明文的字段</code></div><div class="line number70 index69 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number71 index70 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div><div class="line number72 index71 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">t_user:</code></div><div class="line number73 index72 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number74 index73 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">pwd:</code></div><div class="line number75 index74 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number76 index75 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p><span style="color: rgb(23,43,77);"><br></span></p><pre><br></pre><p><span style="color: rgb(23,43,77);"><br></span></p><h4 id="shardingsphere数据脱敏-第二步：系统迁移中">第二步：系统迁移中</h4><p><span style="color: rgb(50,50,50);">query.with.cipher.column=false 由上面配置的注释可知，是一个是否开启密文的开关。</span></p><p>经过第一步之后，此时表中应该保存了明文数据以及密文数据，由于<span style="color: rgb(50,50,50);">query.with.cipher.column=false，此时还是使用的明文进行操作，所以讲配置项修改为<span style="color: rgb(50,50,50);">query.with.cipher.column=true，开始使用密文，然后需要重启系统，使配置生效。</span></span></p><p><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">这个时候可以先观望测试一段时间，如果出了问题则将配置重新改为<span style="color: rgb(50,50,50);">query.with.cipher.column=false，这样就能直接切换为之前的明文模式，没有问题就继续使用密文</span></span></span></p><p><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">此时流程为<br></span></span></span></p><p><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" height="250" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/7.png" data-image-src="https://shardingsphere.apache.org/document/legacy/4.x/document/img/encrypt/7.png"></span><br></span></span></span></p><h4 id="shardingsphere数据脱敏-第三步：系统迁移后"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">第三步：<span style="color: rgb(50,50,50);">系统迁移后</span></span></span></span></h4><p><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">当观望一段时间没有出现问题之后，这时候数据库里面再继续保存明文数据就明显不合理了，需要删除明文字段，只保存密文字段。</span></span></span></p><ol><li><span style="color: rgb(50,50,50);">删除明文数据库字段</span></li><li><p class="auto-cursor-target"><span style="color: rgb(50,50,50);">修改配置</span></p><div class="code panel pdl conf-macro output-block" data-hasbody="true" data-macro-name="code" style="border-width: 1px;">
 <div class="codeHeader panelHeader pdl hide-border-bottom" style="border-bottom-width: 1px;">
  <b class="code-title">修改配置</b>
  <span class="collapse-source expand-control" style=""><span class="expand-control-icon icon">&nbsp;</span><span class="expand-control-text">展开源码</span></span>
  
 </div>
 <div class="codeContent panelContent pdl hide-toolbar"> 
  <div><div id="highlighter_590180" class="syntaxhighlighter collapsed sh-confluence nogutter  yml"><div class="toolbar"><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_expandSource expandSource">expand source</a></span><span><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar_item command_help help">?</a></span></div><table border="0" cellpadding="0" cellspacing="0"><tbody><tr><td class="code"><div class="container" title="Hint: double-click to select code"><div class="line number1 index0 alt2"><code class="yml variable">encrypt:</code></div><div class="line number2 index1 alt1"><code class="yml spaces">&nbsp;&nbsp;</code><code class="yml variable">encryptors:</code></div><div class="line number3 index2 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">encryptor_aes:</code></div><div class="line number4 index3 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">type:</code> <code class="yml plain">aes&nbsp; </code><code class="yml comments">#加解密器类型，可自定义或选择内置类型：MD5/AES</code></div><div class="line number5 index4 alt2"><code class="yml spaces">&nbsp;</code><code class="yml variable">props:</code></div><div class="line number6 index5 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">aes.key.value:</code> <code class="yml plain">hydee_aes_key </code><code class="yml comments">#属性配置, 注意：使用AES加密器，需要配置AES加密器的KEY属性：aes.key.value</code></div><div class="line number7 index6 alt2"><code class="yml spaces">&nbsp;</code><code class="yml variable">tables:</code></div><div class="line number8 index7 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">user:</code></div><div class="line number9 index8 alt2"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">columns:</code></div><div class="line number10 index9 alt1"><code class="yml spaces">&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;&nbsp;</code><code class="yml variable">password:</code></div><div class="line number11 index10 alt2"><code class="yml spaces">&nbsp;</code><code class="yml variable">cipherColumn:</code> <code class="yml plain">pwd_cipher </code><code class="yml comments">#存储密文的字段</code></div><div class="line number12 index11 alt1"><code class="yml spaces">&nbsp;</code><code class="yml variable">encryptor:</code> <code class="yml plain">encryptor_aes </code><code class="yml comments">#加密器名字</code></div></div></td></tr></tbody></table></div></div> 
 </div>
</div><p class="auto-cursor-target"><span style="color: rgb(50,50,50);"><br></span></p><pre><br></pre></li></ol><p><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);"><span style="color: rgb(50,50,50);">可以看到只删除了&nbsp;&nbsp;</span></span></span><span style="color: rgb(204,120,50);">plainColumn&nbsp; <span style="color: rgb(23,43,77);">这一个配置，因为现在 password 只是作为逻辑列，数据库中可以不存在，所以也无需修改代码</span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);">此时表结构</span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="203" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_10-17-42.png" data-image-src="/download/attachments/110756115/image2020-8-11_10-17-42.png?version=1&amp;modificationDate=1597112263000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098241" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_10-17-42.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span></span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);">查询结果</span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="106" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-11_10-7-57.png" data-image-src="/download/attachments/110756115/image2020-8-11_10-7-57.png?version=1&amp;modificationDate=1597111678000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="114098235" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-11_10-7-57.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span><br></span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);">此时流程为</span></span></p><p><span style="color: rgb(204,120,50);"><span style="color: rgb(23,43,77);"><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image confluence-external-resource" alt="8" height="250" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/8.png" data-image-src="https://shardingsphere.apache.org/document/legacy/4.x/document/img/encrypt/8.png"></span><br></span></span></p><p><br></p><h2 id="shardingsphere数据脱敏-注意事项">注意事项</h2><h3 id="shardingsphere数据脱敏-aes.key.value配置的值一旦确定，最好不要修改，否则之前加密的会解密失败，需要重新清洗数据">aes.key.value 配置的值一旦确定，最好不要修改，否则之前加密的会解密失败，需要重新清洗数据</h3><h3 id="shardingsphere数据脱敏-使用4.x版本的shardingsphere进行数据脱敏有一些限制条件">使用4.x版本的shardingsphere进行数据脱敏有一些限制条件</h3><ol><li>用户需要自行处理数据库中原始的存量数据、洗数。</li><li>使用脱敏功能+分库分表功能，部分特殊SQL不支持，具体请参考<a class="external-link" href="https://shardingsphere.apache.org/document/legacy/4.x/document/cn/features/sharding/use-norms/sql/" rel="nofollow">SQL使用规范</a>。</li><li>脱敏字段无法支持比较操作，如：大于小于、ORDER BY、BETWEEN、LIKE等。</li><li>脱敏字段无法支持计算操作，如：AVG、SUM以及计算表达式 。</li></ol><h3 id="shardingsphere数据脱敏-JPA和数据脱敏无法一起使用，如何解决？">JPA 和 数据脱敏无法一起使用，如何解决？</h3><p>回答：</p><p>由于数据脱敏的DDL（Data Definition Language 数据定义语言）尚未开发完成，因此对于自动生成DDL语句的JPA与数据脱敏一起使用时，会导致JPA的实体类(Entity)无法同时满足DDL和DML</p><p>（<span style="letter-spacing: 0.0px;">Data Manipulation Language 数据操作语言</span>）的情况。</p><p>解决方案如下：</p><ol><li>以需要脱敏的逻辑列名编写JPA的实体类(Entity)。</li><li>关闭JPA的auto-ddl，如 auto-ddl=none。</li><li>手动建表，建表时应使用数据脱敏配置的<code>cipherColumn</code>,<code>plainColumn</code>和<code>assistedQueryColumn</code>代替逻辑列。</li></ol><p>例如，我测试数据脱敏使用的是jpa，表是我自己创建的，实体类如下图，一些注意事项在注释中</p><p><span class="confluence-embedded-file-wrapper confluence-embedded-manual-size"><img class="confluence-embedded-image" height="400" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/image2020-8-13_16-49-13.png" data-image-src="/download/attachments/110756115/image2020-8-13_16-49-13.png?version=1&amp;modificationDate=1597308553000&amp;api=v2" data-unresolved-comment-count="0" data-linked-resource-id="115146984" data-linked-resource-version="1" data-linked-resource-type="attachment" data-linked-resource-default-alias="image2020-8-13_16-49-13.png" data-base-url="http://c.hydee.cn" data-linked-resource-content-type="image/png" data-linked-resource-container-id="110756115" data-linked-resource-container-version="39"></span></p><p>当然，我们是将已存在的一些数据进行脱敏，所以应该无需修改代码</p><p><br></p><p>更多注意事项请看</p><p><a class="external-link" href="https://shardingsphere.apache.org/document/legacy/4.x/document/cn/faq/" rel="nofollow">https://shardingsphere.apache.org/document/legacy/4.x/document/cn/faq/</a></p><p><br></p><p><br></p><p><br></p>

                
        
    
        </div>

        <!--
<rdf:RDF xmlns:rdf="http://www.w3.org/1999/02/22-rdf-syntax-ns#"
         xmlns:dc="http://purl.org/dc/elements/1.1/"
         xmlns:trackback="http://madskills.com/public/xml/rss/module/trackback/">
         <rdf:Description
    rdf:about="http://c.hydee.cn/pages/viewpage.action?pageId=110756115"
    dc:identifier="http://c.hydee.cn/pages/viewpage.action?pageId=110756115"
    dc:title="shardingsphere 数据脱敏"
    trackback:ping="http://c.hydee.cn/rpc/trackback/110756115"/>
</rdf:RDF>
-->

                        
    



<div id="likes-and-labels-container"><div id="likes-section" class="no-print"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115" class="like-button"><span class="aui-icon aui-icon-small aui-iconfont-like"></span><span class="like-button-text">赞</span></a><span class="like-summary like-summary-margin-left">成为第一个赞同者</span></div><div id="labels-section" class="pageSection group">
    <div class="labels-section-content content-column" entityid="110756115" entitytype="page">
	<div class="labels-content">
		
    <ul class="label-list label-list-right  has-pen">
            <li class="no-labels-message">
            无标签
        </li>
                <li class="labels-edit-container">
            <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="show-labels-editor" title="编辑标签 (l)">
                <span class="aui-icon aui-icon-small aui-iconfont-devtools-tag-small">编辑标签</span>
            </a>
        </li>
        </ul>

    </div>
</div>
</div></div>
        
		
            




            
        








                        
    
<div id="comments-section" class="pageSection group">
        
    


    <div class="bottom-comment-panels comment-panels">
                
                    
    


        
        
    
    <div class="quick-comment-container comment add"><p class="comment-user-logo"><a class="userLogoLink userlink-1" data-username="2826" href="http://c.hydee.cn/users/profile/editmyprofilepicture.action" title="" data-user-hover-bound="true"><img class="userLogo logo defaultLogo" src="./shardingsphere 数据脱敏 - 胡俊 - Confluence_files/add_profile_pic.svg" alt="用户图标: 添加头像" title=""></a></p><div class="quick-comment-body"><div class="quick-comment-loading-container" style="display:none;"></div><div id="editor-messages"></div><div id="all-messages"></div><form style="display:block;" class="quick-comment-form aui" method="post" name="inlinecommentform" action="http://c.hydee.cn/pages/doaddcomment.action?pageId=110756115"><div title="添加评论 (m)" class="quick-comment-prompt"><span>编写评论...</span></div></form></div></div>

            </div>

            <div id="comments-actions" class="aui-toolbar noprint" style="display: none;">
            <p class="toolbar-group">
                <span class="toolbar-item"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115&amp;showComments=true&amp;showCommentArea=true#addcomment" id="add-comment-rte" accesskey="m" class="toolbar-trigger">添加评论</a></span>
            </p>
        </div>
    </div>
        


                
    
            
</div>

    

    




    
    

    
    
    


    
<div id="space-tools-web-items" class="hidden">
                <div data-label="概览" data-href="/spaces/viewspacesummary.action?key=~2777">概览</div>
            <div data-label="权限" data-href="/spaces/spacepermissions.action?key=~2777">权限</div>
            <div data-label="内容工具" data-href="/pages/templates2/listpagetemplates.action?key=~2777">内容工具</div>
            <div data-label="外观" data-href="/spaces/choosetheme.action?key=~2777">外观</div>
            <div data-label="集成" data-href="/spaces/hipchat2.action?key=~2777">集成</div>
    </div>
        



            </div><!-- \#main -->
            
    
    
        
            
            

<div id="footer" role="contentinfo" style="margin-left: 285px;">
    <section class="footer-body">

                                                    
        

        <ul id="poweredby">
            <li class="noprint">基于 <a href="http://www.atlassian.com/software/confluence" class="hover-footer-link" rel="nofollow">Atlassian Confluence</a> <span id="footer-build-information">6.7.1</span> 技术构建</li>
            <li class="print-only">由 Atlassian 合流6.7.1 打印</li>
            <li class="noprint"><a href="https://support.atlassian.com/help/confluence" class="hover-footer-link" rel="nofollow">报告缺陷</a></li>
            <li class="noprint"><a href="http://www.atlassian.com/about/connected.jsp?s_kwcid=Confluence-stayintouch" class="hover-footer-link" rel="nofollow">Atlassian 新闻</a></li>
        </ul>

        

        <div id="footer-logo"><a href="http://www.atlassian.com/" rel="nofollow">Atlassian</a></div>

                    
        
    </section>
</div>

    
</div>

</div><!-- \#full-height-container -->
</div><!-- \#page -->

    <span style="display:none;" id="confluence-server-performance">{"serverDuration": 265, "requestCorrelationId": "b6b1edae8b98fb87"}</span>


<script type="text/javascript">
    AJS.BigPipe = AJS.BigPipe || {};
    AJS.BigPipe.metrics = AJS.BigPipe.metrics || {};
    AJS.BigPipe.metrics.pageEnd = typeof window.performance !== "undefined" && typeof window.performance.now === "function"
                                    ? Math.ceil(window.performance.now()) : 0;
    AJS.BigPipe.metrics.isBigPipeEnabled = 'false' === 'true';
</script>


    
<div id="editor-preload-container" style="display: none;">
 

<div class="hidden">
        


<content tag="breadcrumbs">
    
    
    <ol id="quickedit-breadcrumbs">
                                        
                        
        <li class="first">
                        
                            <span class=""><a href="http://c.hydee.cn/peopledirectory.action" target="_blank">人员</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="http://c.hydee.cn/display/~2777" target="_blank">胡俊</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="http://c.hydee.cn/collector/pages.action?key=~2777" target="_blank">页面</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class=""><a href="http://c.hydee.cn/pages/viewpage.action?pageId=53969354" target="_blank">胡俊的主页</a></span>
                                                                                    
                        
        </li><li>
                        
                            <span class="edited-page-title"><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115" target="_blank">shardingsphere 数据脱敏</a></span>
                                                                    </li></ol>

</content>
</div>


        
    

                                                                                        

<script type="text/x-template" title="editor-css" id="editor-css-resources">
    <link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/2.1.2/_/download/batch/com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources/com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-collaborative-editor-plugin:confluence-collaborative-editor-plugin-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/5a4881ae7592524a6ac5f15957d5f9cd-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/7.6.1/_/download/batch/com.atlassian.auiplugin:aui-page-typography/com.atlassian.auiplugin:aui-page-typography.css" data-wrm-key="com.atlassian.auiplugin:aui-page-typography" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/5a4881ae7592524a6ac5f15957d5f9cd-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/7.6.1/_/download/batch/com.atlassian.auiplugin:aui-avatars/com.atlassian.auiplugin:aui-avatars.css" data-wrm-key="com.atlassian.auiplugin:aui-avatars" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/398ad418673a27c3e5143e29797f9998-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/7.6.1/_/download/batch/com.atlassian.auiplugin:aui-page-layout/com.atlassian.auiplugin:aui-page-layout.css" data-wrm-key="com.atlassian.auiplugin:aui-page-layout" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/13908f40b13e4182da4171947b016423-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_/download/batch/com.atlassian.confluence.editor:editor-content-styles/com.atlassian.confluence.editor:editor-content-styles.css" data-wrm-key="com.atlassian.confluence.editor:editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/13908f40b13e4182da4171947b016423-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_/download/batch/com.atlassian.confluence.editor:table-resizable-editor-content-styles/com.atlassian.confluence.editor:table-resizable-editor-content-styles.css?confluence.table.resizable=true" data-wrm-key="com.atlassian.confluence.editor:table-resizable-editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/13908f40b13e4182da4171947b016423-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_/download/batch/com.atlassian.confluence.editor:table-resizable-styles/com.atlassian.confluence.editor:table-resizable-styles.css?confluence.table.resizable=true" data-wrm-key="com.atlassian.confluence.editor:table-resizable-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_/download/batch/com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles/com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-templates:variable-editor-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/5a4881ae7592524a6ac5f15957d5f9cd-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/7.6.1/_/download/batch/com.atlassian.auiplugin:aui-lozenge/com.atlassian.auiplugin:aui-lozenge.css" data-wrm-key="com.atlassian.auiplugin:aui-lozenge" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/272f0a04b740763e0a29316bc4af89a4-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/3.0.0/_/download/batch/com.atlassian.confluence.plugins.status-macro:view_content_status/com.atlassian.confluence.plugins.status-macro:view_content_status.css" data-wrm-key="com.atlassian.confluence.plugins.status-macro:view_content_status" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/272f0a04b740763e0a29316bc4af89a4-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/3.0.0/_/download/batch/com.atlassian.confluence.plugins.status-macro:editor_content_status/com.atlassian.confluence.plugins.status-macro:editor_content_status.css" data-wrm-key="com.atlassian.confluence.plugins.status-macro:editor_content_status" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/33f71c749256e7c5d9213704dcf409e7-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/3.1.5/_/download/batch/com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources/com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-mentions-plugin:smart-mentions-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/1bf6e69c18341244d990250bf5aa3ce0-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/1.4.0/_/download/batch/com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources/com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-fixed-headers:confluence-fixed-headers-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/656aaffb18e6a1aff5fbfe3cf106e125-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/5.0.2/_/download/batch/confluence.extra.attachments:attachments-css/confluence.extra.attachments:attachments-css.css" data-wrm-key="confluence.extra.attachments:attachments-css" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/14.2.0/_/download/batch/com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css/com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-roadmap-plugin:roadmap-placeholder-css" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/1.0/_/download/batch/confluence.web.resources:panel-styles/confluence.web.resources:panel-styles.css" data-wrm-key="confluence.web.resources:panel-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d6b7c866ba91e082889f738e4c6401ac-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/1.0/_/download/batch/confluence.web.resources:content-styles/confluence.web.resources:content-styles.css" data-wrm-key="confluence.web.resources:content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_/download/batch/com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles/com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-page-layout:editor-pagelayout-content-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/8.0.1/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles/com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:inline-tasks-styles" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/8.0.1/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css" data-wrm-batch-type="resource" media="all">
<!--[if lte IE 9]>
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/8.0.1/_/download/batch/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css/com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css.css?conditionalComment=lte+IE+9" data-wrm-key="com.atlassian.confluence.plugins.confluence-inline-tasks:editor-autocomplete-date-css" data-wrm-batch-type="resource" media="all">
<![endif]-->
<link type="text/css" rel="stylesheet" href="/s/232de5556d4148d75b55012e1230616c-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/3.1.0/_/download/batch/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources/com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-view-file-macro:view-file-macro-editor-content-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/d41d8cd98f00b204e9800998ecf8427e-CDN/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/5.0.0/_/download/batch/com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources/com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources.css" data-wrm-key="com.atlassian.confluence.plugins.confluence-software-blueprints:common-resources" data-wrm-batch-type="resource" media="all">
<link type="text/css" rel="stylesheet" href="/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/17/_/styles/colors.css" media="all">

</script>













        

<div class="editor-container">

        
            

<div id="link-browser-tab-items" class="hidden">
                <div title="搜索" data-weight="10">search</div>
            <div title="最近浏览过" data-weight="20">recentlyviewed</div>
            <div title="文件" data-weight="30">attachments</div>
            <div title="Web链接" data-weight="40">weblink</div>
            <div title="高级" data-weight="50">advanced</div>
    </div>
            <div id="image-properties-tab-items" class="hidden">
                <div title="效果" data-weight="10">image-effects</div>
            <div title="标题" data-weight="20">image-attributes</div>
    </div>
            

 










        <div id="toolbar">
        <div id="rte-toolbar" class="aui-toolbar aui-toolbar2">

            <div class="aui-toolbar2-primary toolbar-primary">
                <ul class="aui-buttons rte-toolbar-group-formatting">
                                        <li id="format-dropdown" class="toolbar-item toolbar-dropdown">
                        <div class="aui-dd-parent">
                            <a id="format-dropdown-display" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar-trigger aui-dd-trigger aui-button" data-control-id="formatselect">
                                <span class="dropdown-text">正文</span>
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>
                            <ul id="format-dropdown-display-menu" class="aui-dropdown hidden">
                                    <li class="dropdown-item format-p" data-format="p" data-tooltip="正文 (Ctrl+0)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">正文</a>
    </li>
                                    <li class="dropdown-item format-h1" data-format="h1" data-tooltip="标题 1 (Ctrl+1)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 1</a>
    </li>
                                    <li class="dropdown-item format-h2" data-format="h2" data-tooltip="标题 2 (Ctrl+2)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 2</a>
    </li>
                                    <li class="dropdown-item format-h3" data-format="h3" data-tooltip="标题 3 (Ctrl+3)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 3</a>
    </li>
                                    <li class="dropdown-item format-h4" data-format="h4" data-tooltip="标题 4 (Ctrl+4)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 4</a>
    </li>
                                    <li class="dropdown-item format-h5" data-format="h5" data-tooltip="标题 5 (Ctrl+5)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 5</a>
    </li>
                                    <li class="dropdown-item format-h6" data-format="h6" data-tooltip="标题 6 (Ctrl+6)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">标题 6</a>
    </li>
                                    <li class="dropdown-item format-pre" data-format="pre" data-tooltip="预格式化 (Ctrl+7)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">预格式化</a>
    </li>
                                    <li class="dropdown-item format-blockquote" data-format="blockquote" data-tooltip="引用 (Ctrl+8)">
        <a class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">引用</a>
    </li>
                            </ul>
                        </div>
                    </li>
                </ul>

                <ul class="aui-buttons rte-toolbar-group-style">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-bold" data-tooltip="粗体 (Ctrl+B)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="bold">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-bold ">粗体</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-italic" data-tooltip="斜体 (Ctrl+I)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="italic">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-italic ">斜体</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-underline" data-tooltip="下划线 (Ctrl+U)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="underline">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-underline ">下划线</span>
        </a>
    </li>
                                        <li id="color-picker-control" class="toolbar-item toolbar-splitbutton">
                        <a class="toolbar-trigger aui-button" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" id="rte-button-color" data-color="003366" data-tooltip="颜色"><span class="icon aui-icon aui-icon-small aui-iconfont-editor-color ">颜色选取器</span><span class="selected-color"></span></a><div class="aui-dd-parent"><a class="toolbar-trigger aui-dd-trigger aui-button" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" id="rte-button-color-selector" data-control-id="colorSelector" data-tooltip="更多颜色"><span class="icon aui-icon aui-icon-small aui-iconfont-dropdown ">更多颜色</span></a><div class="color-picker-container"><div class="color-picker aui-dropdown hidden"><ul><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #000000" data-color="000000">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #993300" data-color="993300">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #333300" data-color="333300">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #003300" data-color="003300">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #003366" data-color="003366">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #000080" data-color="000080">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #333399" data-color="333399">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #172B4D" data-color="172B4D">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #800000" data-color="800000">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FF6600" data-color="FF6600">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #808000" data-color="808000">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #008000" data-color="008000">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #008080" data-color="008080">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #0000FF" data-color="0000FF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #666699" data-color="666699">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #7A869A" data-color="7A869A">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FF0000" data-color="FF0000">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FF9900" data-color="FF9900">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #99CC00" data-color="99CC00">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #339966" data-color="339966">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #33CCCC" data-color="33CCCC">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #3366FF" data-color="3366FF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #800080" data-color="800080">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #A5ADBA" data-color="A5ADBA">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FF00FF" data-color="FF00FF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FFCC00" data-color="FFCC00">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FFFF00" data-color="FFFF00">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #00FF00" data-color="00FF00">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #00FFFF" data-color="00FFFF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #00CCFF" data-color="00CCFF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #993366" data-color="993366">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #C1C7D0" data-color="C1C7D0">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FF99CC" data-color="FF99CC">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FFCC99" data-color="FFCC99">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FFFF99" data-color="FFFF99">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #CCFFCC" data-color="CCFFCC">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #CCFFFF" data-color="CCFFFF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #99CCFF" data-color="99CCFF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #CC99FF" data-color="CC99FF">&nbsp;</a></li><li><a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" style="background-color: #FFFFFF" data-color="FFFFFF">&nbsp;</a></li></ul></div></div></div>
                    </li>
                    <li id="more-menu" class="toolbar-item toolbar-dropdown">
                        <div class="aui-dd-parent">
                            <a id="rte-button-more" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar-trigger aui-dd-trigger aui-button" data-tooltip="更多">
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-styles ">格式</span>
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>
                            <div id="rte-button-more-menu" class="aui-dropdown grouped hidden">
                                <div class="grouped-dropdown-item">
                                    <ul>
                                                                <li class="dropdown-item more-menu-trigger" data-control-id="strikethrough" data-tooltip="删除线 (Ctrl+Shift+S)">
        <a id="rte-strikethrough" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
删除线
        </a>
    </li>
                                                                 <li class="dropdown-item more-menu-trigger" data-control-id="sub" data-tooltip="">
        <a id="rte-sub" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
下标
        </a>
    </li>
                                                                 <li class="dropdown-item more-menu-trigger" data-control-id="sup" data-tooltip="">
        <a id="rte-sup" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
上标
        </a>
    </li>
                                                        <li class="dropdown-item more-menu-trigger" data-control-id="monospace" data-tooltip="用等宽字体格式化文本">
        <a id="rte-monospace" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
等宽
        </a>
    </li>

                                                                                                                    </ul>
                                </div>
                                <div class="grouped-dropdown-item">
                                    <ul>
                                            <li class="dropdown-item more-menu-trigger no-icon" data-format="removeformat" data-tooltip="当前选中文本清除格式">
        <a id="rte-removeformat" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
            清除格式
        </a>
    </li>
                                    </ul>
                                </div>
                            </div>
                        </div>

                    </li>
                </ul>

                <ul class="aui-buttons rte-toolbar-group-lists">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-bullist" data-tooltip="无序列表 (Ctrl+Shift+B)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="bullist">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-list-bullet ">无序列表</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-numlist" data-tooltip="有序列表 (Ctrl+Shift+N)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="numlist">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-list-number ">有序列表</span>
        </a>
    </li>
                </ul>
                                <ul class="aui-buttons rte-toolbar-group-task-lists">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-tasklist" data-tooltip="任务列表 ( )">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="tasklist">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-task ">任务列表</span>
        </a>
    </li>
                </ul>
                
                <ul class="aui-buttons rte-toolbar-group-indentation">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-outdent" data-tooltip="减小缩进">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="outdent">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-outdent ">减小缩进</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-indent" data-tooltip="增大缩进">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="indent">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-indent ">增大缩进</span>
        </a>
    </li>
                </ul>

                <ul class="aui-buttons rte-toolbar-group-justification">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifyleft" data-tooltip="左对齐">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="justifyleft">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-left ">左对齐</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifycenter" data-tooltip="居中">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="justifycenter">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-center ">居中</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-justifyright" data-tooltip="右对齐">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="justifyright">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-align-right ">右对齐</span>
        </a>
    </li>
                </ul>

                                <ul class="aui-buttons hidden" id="page-layout-2-group">
                    <li id="page-layout-2" class="toolbar-item" data-tooltip="页面布局">
                        <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="aui-button aui-button-subtle toolbar-trigger" id="rte-button-pagelayout-2">
                                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-layout ">页面布局</span>
                        </a>
                    </li>
                </ul>
                

                <ul class="aui-buttons rte-toolbar-group-files hidden"></ul>

                <ul class="aui-buttons rte-toolbar-group-link no-separator">
                    <li class="toolbar-item" data-tooltip="插入链接 (Ctrl+K)">
                        <a id="rte-button-link" class="toolbar-trigger aui-button aui-button-subtle" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="linkbrowserButton">
                                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-link "></span>
                            <span class="trigger-text">链接</span>
                        </a>
                    </li>
                </ul>

                <ul class="aui-buttons rte-toolbar-group-table no-separator">
                    <li class="toolbar-item toolbar-dropdown" id="insert-table-dropdown">
                        <div class="aui-dd-parent">
                            <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-insert-table" data-tooltip="插入表格">
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-table "></span>
                                <span class="dropdown-text">表格</span>
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>

                            <div id="table-picker-container" class="hidden aui-box-shadow">
                                <div class="table-picker-box" data-tooltip="按住 SHIFT键，创建无表头表格 。">
                                    <div class="table-picker-background">
                                        <div class="picker picker-cell"></div>
                                        <div class="picker picker-heading heading"></div>
                                        <div class="picker picker-selected-cell"></div>
                                        <div class="picker picker-selected-heading heading"></div>
                                    </div>
                                    <p class="desc"></p>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>

                                                                
                
                <ul class="aui-buttons rte-toolbar-group-insert no-separator">
                    <li class="toolbar-item toolbar-dropdown" id="insert-menu">
                        <div class="aui-dd-parent">
                            <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-insert" data-tooltip="插入更多内容">
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-add "></span>
                                <span class="dropdown-text">插入</span>
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>

                            <div id="insert-menu-options" class="aui-dropdown grouped hidden">
                                <div class="grouped-dropdown-item">
                                    <span class="assistive">插入内容</span>
                                    <ul id="content-insert-list">
                                        
        
        <li class="dropdown-item content-image" data-command="mceConfimage" data-tooltip="插入文件和图片 (Ctrl+M)">
        <a id="rte-insert-image" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 文件和图片
        </a>
    </li>
                                        
        
        <li class="dropdown-item content-link" data-control-id="linkbrowserButton" data-tooltip="插入链接 (Ctrl+K)">
        <a id="rte-insert-link" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 链接
        </a>
    </li>
                                        
    
        <li class="dropdown-item content-symbol" data-command="confCharmap" data-tooltip="插入符号">
        <a id="rte-insert-symbol" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 符号
        </a>
    </li>
                                        
    
        <li class="dropdown-item content-emoticon" data-command="mceEmotion" data-tooltip="插入表情">
        <a id="rte-insert-emoticon" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 表情符号
        </a>
    </li>
                                        
        
        <li class="dropdown-item content-wikimarkup" data-command="InsertWikiMarkup" data-tooltip="插入Wiki标记 (Ctrl+Shift+D)">
        <a id="rte-insert-wikimarkup" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 Wiki标记
        </a>
    </li>
                                        
    
        <li class="dropdown-item content-hr" data-command="InsertHorizontalRule" data-tooltip="插入水平线(----)">
        <a id="rte-insert-hr" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 水平线
        </a>
    </li>
                                                                                    
        
        <li class="dropdown-item content-tasklist" data-command="InsertInlineTaskListNoToggle" data-tooltip="插入任务列表 ( )">
        <a id="rte-insert-tasklist" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 任务列表
        </a>
    </li>
                                                                            </ul>
                                </div>
                                <div class="grouped-dropdown-item">
                                    <span class="assistive">插入宏</span>
                                    <ul id="macro-insert-list">
                                                                                                                                                                                <li class="dropdown-item macro-insertmention-button" data-macro-name="insertmention-button" data-tooltip="插入&#39;用户提及&#39;宏">
        <a id="insertmention-button" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 用户提及
        </a>
    </li>
                                                                                                <li class="dropdown-item macro-jiralink" data-macro-name="jiralink" data-tooltip="插入&#39;Jira问题/过滤器&#39;宏">
        <a id="jiralink" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 Jira问题/过滤器
        </a>
    </li>
                                                                                                <li class="dropdown-item macro-info" data-macro-name="info" data-tooltip="插入&#39;信息&#39;宏">
        <a id="info" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 信息
        </a>
    </li>
                                                                                                <li class="dropdown-item macro-status" data-macro-name="status" data-tooltip="插入&#39;状态&#39;宏">
        <a id="status" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 状态
        </a>
    </li>
                                                                                                <li class="dropdown-item macro-gallery" data-macro-name="gallery" data-tooltip="插入&#39;画廊&#39;宏">
        <a id="gallery" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 画廊
        </a>
    </li>
                                                                                                <li class="dropdown-item macro-toc" data-macro-name="toc" data-tooltip="插入&#39;目录&#39;宏">
        <a id="toc" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 目录
        </a>
    </li>
                                                                                                                            
        
        <li class="dropdown-item content-macro" data-command="mceConfMacroBrowser" data-tooltip="打开宏浏览器 (Ctrl+Shift+A)">
        <a id="rte-insert-macro" class="item-link" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#">
                
    
    <span class="icon "></span>
 其它宏
        </a>
    </li>
                                    </ul>
                                </div>
                            </div>
                        </div>
                    </li>
                </ul>

                                <ul class="aui-buttons rte-toolbar-group-page-layouts-section-types">
                    <li id="pagelayout-menu" class="toolbar-item toolbar-dropdown">
                        <div class="aui-dd-parent">
                            <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="toolbar-trigger aui-dd-trigger aui-button aui-button-subtle" id="rte-button-pagelayout" data-tooltip="页面布局">
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-default">页面布局</span>
                                    
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-dropdown "></span>
                            </a>

                            <ul id="pagelayout-menu-options" class="aui-dropdown hidden">
                                <li class="dropdown-item" data-tooltip="无布局">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-none&quot;, &quot;columns&quot;: 0   }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-none">无布局</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;]   }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple">两栏 (简单)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单，左侧栏)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple-left&quot;, &quot;columns&quot;: [&quot;aside&quot;, &quot;large&quot;]   }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple-left">两栏 (简单，左侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (简单，右侧栏)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-simple-right&quot;, &quot;columns&quot;: [&quot;large&quot;, &quot;aside&quot;]   }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-simple-right">两栏 (简单，右侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三栏 (简单)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three-simple&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;]   }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three-simple">三栏 (简单)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two">两栏</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (左侧栏)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-left&quot;, &quot;columns&quot;: [&quot;aside&quot;, &quot;large&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-left">两栏 (左侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="两栏 (右侧栏)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-two-right&quot;, &quot;columns&quot;: [&quot;large&quot;, &quot;aside&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-two-right">两栏 (右侧栏)</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三栏">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three&quot;, &quot;columns&quot;: [&quot;&quot;, &quot;&quot;, &quot;&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three">三栏</span>
    </a>
</li>
                                <li class="dropdown-item" data-tooltip="三栏 (左边和右侧栏)">
    <a href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" class="item-link" data-atlassian-layout="{&quot;name&quot;: &quot;pagelayout-three-sidebars&quot;, &quot;columns&quot;: [&quot;sidebars&quot;, &quot;large&quot;, &quot;sidebars&quot;] , &quot;header&quot;: true  , &quot;footer&quot;:true  }">
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-check hidden"></span>
            
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-layout pagelayout-three-sidebars">三栏 (左边和右侧栏)</span>
    </a>
</li>
                            </ul>
                        </div>
                    </li>
                </ul>
                
                                                
                <ul class="aui-buttons aui-button-subtle rte-toolbar-group-undo">
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-undo" data-tooltip="回退 (Ctrl+Z)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="undo">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-undo ">回退</span>
        </a>
    </li>
                    
                <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-redo" data-tooltip="重做 (Ctrl+Y)">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="redo">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-redo ">重做</span>
        </a>
    </li>
                </ul>
            </div>                                                                                                <div id="draft-status" style="display:none"></div>
                            <div class="aui-toolbar2-secondary">
                <ul class="aui-buttons aui-button-subtle rte-toolbar-group-searchreplace">
                        <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-searchreplace" data-tooltip="查找/替换">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="searchreplace">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-search ">查找/替换</span>
        </a>
    </li>
                </ul>
                <ul class="aui-buttons aui-button-subtle rte-toolbar-group-help">
                        <li class="toolbar-item aui-button aui-button-subtle" id="rte-button-help" data-tooltip="帮助">
        <a class="toolbar-trigger" href="http://c.hydee.cn/pages/viewpage.action?pageId=110756115#" data-control-id="help">
                
    
    <span class="icon aui-icon aui-icon-small aui-iconfont-editor-help ">键盘快捷方式帮助</span>
        </a>
    </li>
                </ul>
            </div>        </div>    </div>
        
        
                                <div id="editor-notifications-container"><div id="all-messages"><div id="action-messages"></div></div></div><div id="editor-precursor"><div class="cell"><div class="aui-buttons aui-toolbar2"><button class="aui-button aui-button-subtle rte-button-labels" type="button" data-tooltip="标签" id="rte-button-labels" data-explicit-restrictions="" data-inherited-restrictions=""><span class="icon aui-icon aui-icon-small aui-iconfont-devtools-tag"></span></button><button class="aui-button aui-button-subtle rte-button-restrictions" type="button" data-tooltip="未限制" id="rte-button-restrictions" data-explicit-restrictions="false" data-inherited-restrictions="false"><span class="icon aui-icon aui-icon-small aui-iconfont-unlocked"></span></button></div><div id="content-title-div" class="collaborative"><input type="text" name="title" id="content-title" tabindex="1" class="text pagetitle" autocomplete="off" value="shardingsphere 数据脱敏" placeholder="页面标题"></div></div></div>
            
    <div id="wysiwyg">
        <div id="rte" class="cell editor-default collaborative">
            <textarea id="wysiwygTextarea" name="wysiwygContent" class="hidden tinymce-editor"></textarea>
        </div>
    </div>
    <div id="editor-html-source-container" class="hidden">
        <textarea id="editor-html-source" class="monospaceInput"></textarea>
    </div>

    <div id="preview">
                        <div id="previewArea" class="cell">
        </div>
    </div>

            <div id="savebar-container"><div id="rte-savebar" class="aui-toolbar aui-toolbar2"><div class="toolbar-split toolbar-split-row"><div class="toolbar-split toolbar-split-left"><div class="aui-buttons"></div></div><div class="toolbar-split toolbar-split-right"><div id="pluggable-status-container" class="toolbar-item rte-toolbar-pluggable-status"><div id="pluggable-status" class="synchrony"><div class="synchrony-status-indicator"><div class="status-indicator-icon aui-icon aui-icon-small aui-iconfont-devtools-task-in-progress" data-tooltip="我们已经自动保存您在一个草稿中所有的修改。点击以查看修改。"></div><div class="status-indicator-message" data-tooltip="我们已经自动保存您在一个草稿中所有的修改。点击以查看修改。">连接中...</div></div></div></div><div class="aui-buttons" id="rte-savebar-tinymce-plugin-point"></div><div class="aui-buttons"><span id="rte-spinner" class="toolbar-item shared-drafts">&nbsp;</span></div><div class="aui-buttons toolbar-group-edit assistive"><button id="rte-button-edit" class="aui-button aui-button-light" title="返回编辑模式" type="button"><span class="trigger-text">编辑</span></button></div><div class="aui-buttons toolbar-group-preview"><button class="aui-button toolbar-item aui-button-light" id="rte-button-preview" title="预览" type="button"><span class="trigger-text">预览</span></button></div><div class="save-button-container"><button class="aui-button aui-button-primary" type="submit" id="rte-button-publish" name="confirm" value="Save" title="保存"><span class="trigger-text">保存</span></button></div><button class="toolbar-item-link aui-button aui-button-link" type="submit" id="rte-button-cancel" name="cancel" value="cancel">取消</button></div></div></div></div>
    
        <section role="dialog" id="quit-editor-dialog" class="aui-layer aui-dialog2 aui-dialog2-medium" aria-hidden="true"><header class="aui-dialog2-header"></header><div class="aui-dialog2-content"></div><footer class="aui-dialog2-footer"><div class="aui-dialog2-footer-actions"><button id="qed-publish-button" class="aui-button aui-button-primary publish">更新</button><button id="qed-discard-button" title="丢弃所有未发布的变更" class="aui-button aui-button-light exit"></button><button id="qed-save-exit-button" class="aui-button aui-button-primary exit">保留草稿</button><button id="qed-close-button" class="aui-button aui-button-link">取消</button></div><div class="aui-dialog2-footer-hint"><a id="qed-show-diff-button" class="aui-button aui-button-link">显示变更</a><a id="qed-hide-diff-button" class="aui-button aui-button-link">隐藏变更</a></div></footer></section>

    
</div>



<script type="text/x-template" title="dynamic-editor-metadata" id="dynamic-editor-metadata-template">
            <meta name="ajs-use-watch" content="true">
            <meta name="ajs-attachment-source-content-id" content="110756115">
            <meta name="ajs-use-inline-tasks" content="true">
            <meta name="ajs-heartbeat" content="true">
            <meta name="ajs-action-locale" content="zh_CN">
            <meta name="ajs-editor-plugin-resource-prefix" content="/s/zh_CN/7601/d9a7d86ddd6172b1b5a38b9e600c8b90c362def3/6.7.1/_">
            <meta name="ajs-edit-mode" content="collaborative">
            <meta name="ajs-user-watching-own-content" content="true">
            <meta name="ajs-new-page" content="false">
            <meta name="ajs-editor-mode" content="richtext">
            <meta name="ajs-auto-start" content="false">
            <meta name="ajs-conf-revision" content="confluence$content$110756115.116">
            <meta name="ajs-sync-revision-source" content="synchrony">
            <meta name="ajs-draft-id" content="110756116">
            <meta name="ajs-draft-share-id" content="86e850e1-7725-4446-b6aa-177359b3539a">
            <meta name="ajs-content-type" content="page">
            <meta name="ajs-collaborative-editor-status" content="">
            <meta name="ajs-existing-draft-id" content="0">
            <meta name="ajs-content-id" content="110756115">
            <meta name="ajs-form-name" content="inlinecommentform">
            <meta name="ajs-can-attach-files" content="true">
            <meta name="ajs-show-draft-message" content="false">
            <meta name="ajs-shared-drafts" content="true">
            <meta name="ajs-collaborative-content" content="true">
            <meta name="ajs-min-editor-height" content="150">
            <meta name="ajs-version-comment" content="">
            <meta name="ajs-draft-type" content="page">
                
                <meta name="ajs-synchrony-token" content="eyJhbGciOiJIUzI1NiJ9.eyJhdWQiOiJodHRwOlwvXC9jLmh5ZGVlLmNuXC9zeW5jaHJvbnlcL3YxIiwic3ViIjoiZmY4MDgwODE3MWU2ZjZjZjAxNzFlYTFkMjM5YzAwMDIiLCJhY2Nlc3MiOnsiXC9kYXRhXC9TeW5jaHJvbnktZDM5NGNkMDgtZmMzMC0zZjM3LTk0NjctZjgxNWU2ZTRmMjdiXC9jb25mbHVlbmNlLTExMDc1NjExNSI6ImZ1bGwiLCJcL2RhdGFcL1N5bmNocm9ueS1kMzk0Y2QwOC1mYzMwLTNmMzctOTQ2Ny1mODE1ZTZlNGYyN2JcL2NvbmZsdWVuY2UtMTEwNzU2MTE1LXRpdGxlIjoiZnVsbCJ9LCJyZXZpc2lvbk1ldGEiOnsidXNlcktleSI6ImZmODA4MDgxNzFlNmY2Y2YwMTcxZWExZDIzOWMwMDAyIn0sInNlc3Npb24iOnsiYXZhdGFyVVJMIjoiXC9pbWFnZXNcL2ljb25zXC9wcm9maWxlcGljc1wvZGVmYXVsdC5zdmciLCJuYW1lIjoiMjgyNiIsImZ1bGxuYW1lIjoi54aK5p2wIn0sImlzcyI6IlN5bmNocm9ueS1kMzk0Y2QwOC1mYzMwLTNmMzctOTQ2Ny1mODE1ZTZlNGYyN2IiLCJleHAiOjE2MDczOTU3NjgsImlhdCI6MTYwNzMwOTM2OH0.A7kFN-t3gV12--x-T5yR6kBqFwI_jNh05ho9vdIDixE">
    <meta name="ajs-synchrony-base-url" content="http://c.hydee.cn/synchrony,http://c.hydee.cn/synchrony-proxy">
    <meta name="ajs-synchrony-app-id" content="Synchrony-d394cd08-fc30-3f37-9467-f815e6e4f27b">
    <meta name="ajs-synchrony-expiry" content="1607394868">
    <meta name="ajs-use-xhr-fallback" content="true">

            		    <meta name="ajs-max-thumb-width" content="300">
		    <meta name="ajs-max-thumb-height" content="300">
		    <meta name="ajs-can-send-email" content="false">
		    <meta name="ajs-is-dev-mode" content="false">
		    <meta name="ajs-draft-save-interval" content="30000">
		    <meta name="ajs-show-hidden-user-macros" content="false">
		    <meta name="ajs-can-view-profile" content="true">
		    <meta name="ajs-is-admin" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autocomplete" content="false">
		    <meta name="ajs-confluence.prefs.editor.disable.autoformat" content="false">
		    <meta name="ajs-heartbeat-interval" content="30000">
	
    </script>

<script type="text/x-template" title="tableForm" id="table-form-template">
    <form id="tinymce-table-form" class="aui">
        <div class="field-group">
            <label for="rows">行</label>
            <input id="rows" name="rows" type="text" size="3" autocomplete="off" value="{0}">
        </div>
        <div class="field-group">
            <label for="cols">列</label>
            <input id="cols" name="cols" type="text" size="3" autocomplete="off" value="{1}">
        </div>
        <div class="field-group hidden">
            <input id="width" type="hidden" name="width" value="">
            <label for="width">宽</label>
        </div>
        <div class="group">
            <div class="checkbox">
                <input id="table-heading-checkbox" class="checkbox" type="checkbox" name="heading" checked="checked" value="true">
                <label for="table-heading-checkbox">首行设为表头</label>
            </div>
        </div>
        <div class="group hidden">
            <div class="checkbox">
                <input id="table-equal-width-columns-checkbox" class="checkbox" type="checkbox" name="equal-width-columns" value="false">
                <label for="table-equal-width-columns-checkbox">等宽列</label>
            </div>
        </div>
    </form>
</script>
<input type="hidden" name="draftId" value="110756116" id="draftId"><input type="hidden" name="originalVersion" value="39" id="originalVersion">
<input type="hidden" name="syncRev" value="10.Z5oFAKKNhd2S6PyYRH4oomQ.6" id="syncRev">    <input type="hidden" name="atl_token" value="87c9f5911242aab154e2e69243fd57f15227e3c3">
</div><div id="content-hover-0" class="ajs-content-hover aui-box-shadow" style="display: none;"><div class="contents" style="width: 300px;"></div></div><div id="content-hover-1" class="ajs-content-hover aui-box-shadow" style="display: none;"><div class="contents" style="width: 300px;"></div></div></body></html>